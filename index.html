<!DOCTYPE html><html lang="ja"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>なぞらぼ by nazo</title><meta name="next-head-count" content="3"/><meta name="theme-color" content="#556cd6"/><link rel="preload" href="/_next/static/media/7d8c9b0ca4a64a5a.p.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/_next/static/media/934c4b7cb736f2a3.p.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/_next/static/media/627622453ef56b0d.p.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/_next/static/media/0e4fe491bf84089c.p.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/785601eb8f831274.css" as="style"/><link rel="stylesheet" href="/_next/static/css/785601eb8f831274.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-0b5d8249fb15f5f3.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-90a34299418a0f2b.js" defer=""></script><script src="/_next/static/chunks/pages/_app-bce4120455611630.js" defer=""></script><script src="/_next/static/chunks/127-e595e7778548c2e3.js" defer=""></script><script src="/_next/static/chunks/974-373dc6e1d1afb8a8.js" defer=""></script><script src="/_next/static/chunks/pages/index-ab7e7e42e9bd10be.js" defer=""></script><script src="/_next/static/KdqtlL-jfo31vbLcVioEx/_buildManifest.js" defer=""></script><script src="/_next/static/KdqtlL-jfo31vbLcVioEx/_ssgManifest.js" defer=""></script></head><body><div id="__next"><style data-emotion="css-global ztmugj">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:400;font-size:1rem;line-height:1.5;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><style data-emotion="css 1b9ial">.css-1b9ial{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:relative;background-color:#556cd6;color:#fff;}</style><style data-emotion="css 1abkdho">.css-1abkdho{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;box-shadow:0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:relative;background-color:#556cd6;color:#fff;}</style><header class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation4 MuiAppBar-root MuiAppBar-colorPrimary MuiAppBar-positionRelative css-1abkdho"><style data-emotion="css i6s8oy">.css-i6s8oy{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:16px;padding-right:16px;min-height:56px;}@media (min-width:600px){.css-i6s8oy{padding-left:24px;padding-right:24px;}}@media (min-width:0px){@media (orientation: landscape){.css-i6s8oy{min-height:48px;}}}@media (min-width:600px){.css-i6s8oy{min-height:64px;}}</style><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-i6s8oy"><style data-emotion="css 1arzyzr">.css-1arzyzr{-webkit-text-decoration:none;text-decoration:none;color:inherit;}</style><style data-emotion="css 1tqdl5x">.css-1tqdl5x{margin:0;color:inherit;-webkit-text-decoration:none;text-decoration:none;color:inherit;}</style><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineNone css-1tqdl5x" href="/"><style data-emotion="css b6pe9u">.css-b6pe9u{margin:0;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:500;font-size:1.25rem;line-height:1.6;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:inherit;}</style><h6 class="MuiTypography-root MuiTypography-h6 MuiTypography-noWrap css-b6pe9u">なぞらぼ</h6></a></div></header><main><style data-emotion="css 10m0cap">.css-10m0cap{background-color:#fff;padding-top:64px;padding-bottom:48px;}</style><div class="MuiBox-root css-10m0cap"><style data-emotion="css 1m6pqln">.css-1m6pqln{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;}@media (min-width:600px){.css-1m6pqln{padding-left:24px;padding-right:24px;}}@media (min-width:600px){.css-1m6pqln{max-width:600px;}}</style><div class="MuiContainer-root MuiContainer-maxWidthSm css-1m6pqln"><style data-emotion="css uaua7x">.css-uaua7x{margin:0;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:300;font-size:3.75rem;line-height:1.2;text-align:center;margin-bottom:0.35em;color:rgba(0, 0, 0, 0.87);}</style><h1 class="MuiTypography-root MuiTypography-h2 MuiTypography-alignCenter MuiTypography-gutterBottom css-uaua7x">なぞらぼ by nazo</h1><style data-emotion="css 1obxldq">.css-1obxldq{margin:0;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:400;font-size:1.5rem;line-height:1.334;text-align:center;margin-bottom:16px;color:rgba(0, 0, 0, 0.6);}</style><p class="MuiTypography-root MuiTypography-h5 MuiTypography-alignCenter MuiTypography-paragraph css-1obxldq">Webシステム開発ならnazoにお任せ！開発はもちろん、インフラ構築や技術選定、チームメンバー育成から経営方針の相談まで幅広く御社の業務をサポート致します。まずはご相談下さい！</p><style data-emotion="css ctvrm7">.css-ctvrm7{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:32px;}.css-ctvrm7>:not(style)+:not(style){margin:0;margin-left:16px;}</style><div class="css-ctvrm7"><style data-emotion="css 523f8k">.css-523f8k{font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:500;font-size:0.875rem;line-height:1.75;text-transform:uppercase;min-width:64px;padding:6px 16px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#fff;background-color:#556cd6;box-shadow:0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12);}.css-523f8k:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgb(59, 75, 149);box-shadow:0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12);}@media (hover: none){.css-523f8k:hover{background-color:#556cd6;}}.css-523f8k:active{box-shadow:0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12);}.css-523f8k.Mui-focusVisible{box-shadow:0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12);}.css-523f8k.Mui-disabled{color:rgba(0, 0, 0, 0.26);box-shadow:none;background-color:rgba(0, 0, 0, 0.12);}</style><style data-emotion="css cqjbkw">.css-cqjbkw{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:500;font-size:0.875rem;line-height:1.75;text-transform:uppercase;min-width:64px;padding:6px 16px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#fff;background-color:#556cd6;box-shadow:0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12);}.css-cqjbkw::-moz-focus-inner{border-style:none;}.css-cqjbkw.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-cqjbkw{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-cqjbkw:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgb(59, 75, 149);box-shadow:0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12);}@media (hover: none){.css-cqjbkw:hover{background-color:#556cd6;}}.css-cqjbkw:active{box-shadow:0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12);}.css-cqjbkw.Mui-focusVisible{box-shadow:0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12);}.css-cqjbkw.Mui-disabled{color:rgba(0, 0, 0, 0.26);box-shadow:none;background-color:rgba(0, 0, 0, 0.12);}</style><style data-emotion="css 127lk8m">.css-127lk8m{-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(85, 108, 214, 0.4);display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:500;font-size:0.875rem;line-height:1.75;text-transform:uppercase;min-width:64px;padding:6px 16px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#fff;background-color:#556cd6;box-shadow:0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12);}.css-127lk8m:hover{text-decoration-color:inherit;}.css-127lk8m::-moz-focus-inner{border-style:none;}.css-127lk8m.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-127lk8m{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-127lk8m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgb(59, 75, 149);box-shadow:0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12);}@media (hover: none){.css-127lk8m:hover{background-color:#556cd6;}}.css-127lk8m:active{box-shadow:0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12);}.css-127lk8m.Mui-focusVisible{box-shadow:0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12);}.css-127lk8m.Mui-disabled{color:rgba(0, 0, 0, 0.26);box-shadow:none;background-color:rgba(0, 0, 0, 0.12);}</style><style data-emotion="css j2rfn1">.css-j2rfn1{margin:0;color:#556cd6;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(85, 108, 214, 0.4);display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:500;font-size:0.875rem;line-height:1.75;text-transform:uppercase;min-width:64px;padding:6px 16px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#fff;background-color:#556cd6;box-shadow:0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12);}.css-j2rfn1:hover{text-decoration-color:inherit;}.css-j2rfn1::-moz-focus-inner{border-style:none;}.css-j2rfn1.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-j2rfn1{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-j2rfn1:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgb(59, 75, 149);box-shadow:0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12);}@media (hover: none){.css-j2rfn1:hover{background-color:#556cd6;}}.css-j2rfn1:active{box-shadow:0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12);}.css-j2rfn1.Mui-focusVisible{box-shadow:0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12);}.css-j2rfn1.Mui-disabled{color:rgba(0, 0, 0, 0.26);box-shadow:none;background-color:rgba(0, 0, 0, 0.12);}</style><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium css-j2rfn1" tabindex="0" href="https://www.linkedin.com/in/nazolabo/">今すぐ相談する</a><style data-emotion="css 1k4sm1q">.css-1k4sm1q{font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:500;font-size:0.875rem;line-height:1.75;text-transform:uppercase;min-width:64px;padding:5px 15px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border:1px solid rgba(85, 108, 214, 0.5);color:#556cd6;}.css-1k4sm1q:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(85, 108, 214, 0.04);border:1px solid #556cd6;}@media (hover: none){.css-1k4sm1q:hover{background-color:transparent;}}.css-1k4sm1q.Mui-disabled{color:rgba(0, 0, 0, 0.26);border:1px solid rgba(0, 0, 0, 0.12);}</style><style data-emotion="css 9genub">.css-9genub{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:500;font-size:0.875rem;line-height:1.75;text-transform:uppercase;min-width:64px;padding:5px 15px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border:1px solid rgba(85, 108, 214, 0.5);color:#556cd6;}.css-9genub::-moz-focus-inner{border-style:none;}.css-9genub.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-9genub{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-9genub:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(85, 108, 214, 0.04);border:1px solid #556cd6;}@media (hover: none){.css-9genub:hover{background-color:transparent;}}.css-9genub.Mui-disabled{color:rgba(0, 0, 0, 0.26);border:1px solid rgba(0, 0, 0, 0.12);}</style><style data-emotion="css 1uqdg9z">.css-1uqdg9z{-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(85, 108, 214, 0.4);display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:500;font-size:0.875rem;line-height:1.75;text-transform:uppercase;min-width:64px;padding:5px 15px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border:1px solid rgba(85, 108, 214, 0.5);color:#556cd6;}.css-1uqdg9z:hover{text-decoration-color:inherit;}.css-1uqdg9z::-moz-focus-inner{border-style:none;}.css-1uqdg9z.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-1uqdg9z{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-1uqdg9z:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(85, 108, 214, 0.04);border:1px solid #556cd6;}@media (hover: none){.css-1uqdg9z:hover{background-color:transparent;}}.css-1uqdg9z.Mui-disabled{color:rgba(0, 0, 0, 0.26);border:1px solid rgba(0, 0, 0, 0.12);}</style><style data-emotion="css i4lnu5">.css-i4lnu5{margin:0;color:#556cd6;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(85, 108, 214, 0.4);display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:500;font-size:0.875rem;line-height:1.75;text-transform:uppercase;min-width:64px;padding:5px 15px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border:1px solid rgba(85, 108, 214, 0.5);color:#556cd6;}.css-i4lnu5:hover{text-decoration-color:inherit;}.css-i4lnu5::-moz-focus-inner{border-style:none;}.css-i4lnu5.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-i4lnu5{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-i4lnu5:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(85, 108, 214, 0.04);border:1px solid #556cd6;}@media (hover: none){.css-i4lnu5:hover{background-color:transparent;}}.css-i4lnu5.Mui-disabled{color:rgba(0, 0, 0, 0.26);border:1px solid rgba(0, 0, 0, 0.12);}</style><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium css-i4lnu5" tabindex="0" href="/profile">プロフィールを見る</a></div></div></div><style data-emotion="css 18kddpf">.css-18kddpf{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;padding-top:64px;padding-bottom:64px;}@media (min-width:600px){.css-18kddpf{padding-left:24px;padding-right:24px;}}@media (min-width:900px){.css-18kddpf{max-width:900px;}}</style><div class="MuiContainer-root MuiContainer-maxWidthMd css-18kddpf"><style data-emotion="css 1tz8m30">.css-1tz8m30{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-top:-32px;width:calc(100% + 32px);margin-left:-32px;}.css-1tz8m30>.MuiGrid-item{padding-top:32px;}.css-1tz8m30>.MuiGrid-item{padding-left:32px;}</style><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-4 css-1tz8m30"><style data-emotion="css 1twzmnh">.css-1twzmnh{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1twzmnh{-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:50%;}}@media (min-width:900px){.css-1twzmnh{-webkit-flex-basis:33.333333%;-ms-flex-preferred-size:33.333333%;flex-basis:33.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:33.333333%;}}@media (min-width:1200px){.css-1twzmnh{-webkit-flex-basis:33.333333%;-ms-flex-preferred-size:33.333333%;flex-basis:33.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:33.333333%;}}@media (min-width:1536px){.css-1twzmnh{-webkit-flex-basis:33.333333%;-ms-flex-preferred-size:33.333333%;flex-basis:33.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:33.333333%;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-4 css-1twzmnh"><style data-emotion="css spouv7">.css-spouv7{overflow:hidden;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><style data-emotion="css ctmtb0">.css-ctmtb0{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border-radius:4px;box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);overflow:hidden;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-ctmtb0"><style data-emotion="css 10ofaip">.css-10ofaip{padding:16px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}.css-10ofaip:last-child{padding-bottom:24px;}</style><div class="MuiCardContent-root css-10ofaip"><style data-emotion="css wblgpd">.css-wblgpd{margin:0;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:400;font-size:1.5rem;line-height:1.334;margin-bottom:0.35em;}</style><h2 class="MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-wblgpd">Webシステム開発</h2><style data-emotion="css 14uooyn">.css-14uooyn{margin:0;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:400;font-size:1rem;line-height:1.5;}</style><p class="MuiTypography-root MuiTypography-body1 css-14uooyn">月10日以内での継続した稼働を提供します。サーバーサイドを中心に多数のプログラミング言語での開発実績があり、最新の環境での開発からレガシーな環境の改善まで幅広く行います。</p></div></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-4 css-1twzmnh"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-ctmtb0"><div class="MuiCardContent-root css-10ofaip"><h2 class="MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-wblgpd">Webインフラ構築（AWS, GCP）</h2><p class="MuiTypography-root MuiTypography-body1 css-14uooyn">単発または月10日以内での継続プランでインフラの構築を請け負います。クラウドネイティブかつ保守を行いやすい環境を提供します。</p></div></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-4 css-1twzmnh"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-ctmtb0"><div class="MuiCardContent-root css-10ofaip"><h2 class="MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-wblgpd">Webインフラ保守</h2><p class="MuiTypography-root MuiTypography-body1 css-14uooyn">定額でインフラなどの保守とチャットサポートを請け負います。</p></div></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-4 css-1twzmnh"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-ctmtb0"><div class="MuiCardContent-root css-10ofaip"><h2 class="MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-wblgpd">技術顧問</h2><p class="MuiTypography-root MuiTypography-body1 css-14uooyn">定額でチャットでの相談及び月１でのオンライン面談を請け負います。</p></div></div></div></div></div><style data-emotion="css 1c0cfyw">.css-1c0cfyw{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;}@media (min-width:600px){.css-1c0cfyw{padding-left:24px;padding-right:24px;}}@media (min-width:900px){.css-1c0cfyw{max-width:900px;}}</style><div class="MuiContainer-root MuiContainer-maxWidthMd css-1c0cfyw"><style data-emotion="css 1d3bbye">.css-1d3bbye{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}</style><div class="MuiGrid-root MuiGrid-container css-1d3bbye"><style data-emotion="css 15j76c0">.css-15j76c0{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-15j76c0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-15j76c0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1200px){.css-15j76c0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1536px){.css-15j76c0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-12 css-15j76c0"><style data-emotion="css spouv7">.css-spouv7{overflow:hidden;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><style data-emotion="css ctmtb0">.css-ctmtb0{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border-radius:4px;box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);overflow:hidden;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-ctmtb0"><style data-emotion="css 10ofaip">.css-10ofaip{padding:16px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}.css-10ofaip:last-child{padding-bottom:24px;}</style><div class="MuiCardContent-root css-10ofaip"><style data-emotion="css wblgpd">.css-wblgpd{margin:0;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:400;font-size:1.5rem;line-height:1.334;margin-bottom:0.35em;}</style><h2 class="MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-wblgpd">最近のアップデート</h2><style data-emotion="css 14uooyn">.css-14uooyn{margin:0;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:400;font-size:1rem;line-height:1.5;}</style><p class="MuiTypography-root MuiTypography-body1 css-14uooyn"><style data-emotion="css 1ontqvh">.css-1ontqvh{list-style:none;margin:0;padding:0;position:relative;padding-top:8px;padding-bottom:8px;}</style><ul class="MuiList-root MuiList-padding css-1ontqvh"><style data-emotion="css c6qs8">.css-c6qs8{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;-webkit-text-decoration:none;text-decoration:none;width:100%;box-sizing:border-box;text-align:left;padding-top:8px;padding-bottom:8px;padding-left:16px;padding-right:16px;}.css-c6qs8.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.12);}.css-c6qs8.Mui-selected{background-color:rgba(85, 108, 214, 0.08);}.css-c6qs8.Mui-selected.Mui-focusVisible{background-color:rgba(85, 108, 214, 0.2);}.css-c6qs8.Mui-disabled{opacity:0.38;}</style><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-c6qs8"><style data-emotion="css 1f8bwsm">.css-1f8bwsm{min-width:56px;color:rgba(0, 0, 0, 0.54);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}</style><div class="MuiListItemIcon-root css-1f8bwsm">Zenn</div><style data-emotion="css 1tsvksn">.css-1tsvksn{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0;margin-top:4px;margin-bottom:4px;}</style><div class="MuiListItemText-root css-1tsvksn"><style data-emotion="css 1auuc3f">.css-1auuc3f{margin:0;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:400;font-size:1rem;line-height:1.5;display:block;}</style><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-1auuc3f"><a href="https://zenn.dev/nazo/articles/9230a54acb41e4" rel="noreferrer" target="_blank">SQLAlchemy+aiomysql+pytest-asyncioを使ったデータベースのテストの書き方</a></span></div></li></ul><ul class="MuiList-root MuiList-padding css-1ontqvh"><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-c6qs8"><div class="MuiListItemIcon-root css-1f8bwsm">Zenn</div><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-1auuc3f"><a href="https://zenn.dev/nazo/scraps/f759675dcdc709" rel="noreferrer" target="_blank">ローカルで動かせるLLMを触る</a></span></div></li></ul><ul class="MuiList-root MuiList-padding css-1ontqvh"><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-c6qs8"><div class="MuiListItemIcon-root css-1f8bwsm">Gist</div><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-1auuc3f"><a href="https://gist.github.com/nazo/527f7ae680fed5e2df919a151ea946a5" rel="noreferrer" target="_blank">gcloud-aio-bigquery snippet</a></span></div></li></ul><ul class="MuiList-root MuiList-padding css-1ontqvh"><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-c6qs8"><div class="MuiListItemIcon-root css-1f8bwsm">Blog</div><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-1auuc3f"><a href="https://nazo.hatenablog.com/entry/gcloud-aio-bigquery" rel="noreferrer" target="_blank">gcloud-aio-bigqueryでasync/awaitを使ってBigQueryのクエリを叩く</a></span></div></li></ul><ul class="MuiList-root MuiList-padding css-1ontqvh"><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-c6qs8"><div class="MuiListItemIcon-root css-1f8bwsm">Zenn</div><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-1auuc3f"><a href="https://zenn.dev/nazo/articles/9a75cc18e9d6ca" rel="noreferrer" target="_blank">gcloud-aio-bigqueryでasync/awaitを使ってBigQueryのクエリを叩く</a></span></div></li></ul><ul class="MuiList-root MuiList-padding css-1ontqvh"><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-c6qs8"><div class="MuiListItemIcon-root css-1f8bwsm">Blog</div><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-1auuc3f"><a href="https://nazo.hatenablog.com/entry/2023-works" rel="noreferrer" target="_blank">nazoさんの2023年とこれから（お仕事募集中です！！）</a></span></div></li></ul><ul class="MuiList-root MuiList-padding css-1ontqvh"><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-c6qs8"><div class="MuiListItemIcon-root css-1f8bwsm">Blog</div><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-1auuc3f"><a href="https://nazo.hatenablog.com/entry/webtransport-go-chat" rel="noreferrer" target="_blank">webtransport-goでチャットを作ってみた</a></span></div></li></ul><ul class="MuiList-root MuiList-padding css-1ontqvh"><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-c6qs8"><div class="MuiListItemIcon-root css-1f8bwsm">Blog</div><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-1auuc3f"><a href="https://nazo.hatenablog.com/entry/2022-works" rel="noreferrer" target="_blank">2022年の仕事と近況</a></span></div></li></ul><ul class="MuiList-root MuiList-padding css-1ontqvh"><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-c6qs8"><div class="MuiListItemIcon-root css-1f8bwsm">Zenn</div><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-1auuc3f"><a href="https://zenn.dev/nazo/articles/eac2082a073365" rel="noreferrer" target="_blank">最近の Terraform のディレクトリ構造の分け方</a></span></div></li></ul><ul class="MuiList-root MuiList-padding css-1ontqvh"><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-c6qs8"><div class="MuiListItemIcon-root css-1f8bwsm">Blog</div><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-1auuc3f"><a href="https://nazo.hatenablog.com/entry/terraform-2022" rel="noreferrer" target="_blank">最近の Terraform のディレクトリ構造の分け方</a></span></div></li></ul></p></div></div></div></div></div></main><style data-emotion="css 16ybtzv">.css-16ybtzv{background-color:#fff;padding:48px;}</style><footer class="MuiBox-root css-16ybtzv"><style data-emotion="css itlk9f">.css-itlk9f{margin:0;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:400;font-size:1rem;line-height:1.75;text-align:center;color:rgba(0, 0, 0, 0.6);}</style><p class="MuiTypography-root MuiTypography-subtitle1 MuiTypography-alignCenter css-itlk9f">このページのソースコードは <a href="https://github.com/nazo/nazo.dev" rel="noreferrer" target="_blank">https://github.com/nazo/nazo.dev</a> で公開しています。</p><style data-emotion="css 354mxs">.css-354mxs{margin:0;font-family:'__Roboto_fc9c17',Helvetica,Arial,sans-serif,'__Roboto_Fallback_fc9c17';font-weight:400;font-size:0.875rem;line-height:1.43;text-align:center;color:rgba(0, 0, 0, 0.6);}</style><p class="MuiTypography-root MuiTypography-body2 MuiTypography-alignCenter css-354mxs">Copyright © <a color="inherit" href="https://nazo.dev/">なぞらぼ</a> <!-- -->2024<!-- -->.</p></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"items":[{"creator":"nazo","title":"SQLAlchemy+aiomysql+pytest-asyncioを使ったデータベースのテストの書き方","link":"https://zenn.dev/nazo/articles/9230a54acb41e4","pubDate":"Tue, 13 Feb 2024 02:30:00 GMT","enclosure":{"url":"https://res.cloudinary.com/zenn/image/upload/s--4ocr0UyN--/c_fit%2Cg_north_west%2Cl_text:notosansjp-medium.otf_55:SQLAlchemy%252Baiomysql%252Bpytest-asyncio%25E3%2582%2592%25E4%25BD%25BF%25E3%2581%25A3%25E3%2581%259F%25E3%2583%2587%25E3%2583%25BC%25E3%2582%25BF%25E3%2583%2599%25E3%2583%25BC%25E3%2582%25B9%25E3%2581%25AE%25E3%2583%2586%25E3%2582%25B9%25E3%2583%2588%25E3%2581%25AE%25E6%259B%25B8%25E3%2581%258D%25E6%2596%25B9%2Cw_1010%2Cx_90%2Cy_100/g_south_west%2Cl_text:notosansjp-medium.otf_37:nazo%2Cx_203%2Cy_121/g_south_west%2Ch_90%2Cl_fetch:aHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EtL0FPaDE0R2dZb0xlSnJaX3FJdGlhbThncXZyVkhIVUxRSXFWcUs5VGNqaXp1MWo4PXMyNTAtYw==%2Cr_max%2Cw_90%2Cx_87%2Cy_95/v1627283836/default/og-base-w1200-v2.png","length":"0","type":"image/png"},"dc:creator":"nazo","content":"pytest-asyncio も SQLAlchemy も優秀なのでそんなに困ることはないのですが、いくつかはまりどころがあったのでメモしておきます。\n\n aiomysql では sync_engine が使えない\naiomysql は asyncio でしか使えないようになっているので、sync_engine が利用できません。あまり困ることはないですが、 click などを使う時でも async を強制されるので少し面倒です。 asyncio.run() で囲みましょう。\nデータベース全体の操作は SQLAlchemy の少し外側に出ることが多いので、 async を対応させるのはひ...","contentSnippet":"pytest-asyncio も SQLAlchemy も優秀なのでそんなに困ることはないのですが、いくつかはまりどころがあったのでメモしておきます。\n\n aiomysql では sync_engine が使えない\naiomysql は asyncio でしか使えないようになっているので、sync_engine が利用できません。あまり困ることはないですが、 click などを使う時でも async を強制されるので少し面倒です。 asyncio.run() で囲みましょう。\nデータベース全体の操作は SQLAlchemy の少し外側に出ることが多いので、 async を対応させるのはひ...","guid":"https://zenn.dev/nazo/articles/9230a54acb41e4","isoDate":"2024-02-13T02:30:00.000Z"},{"creator":"nazo","title":"ローカルで動かせるLLMを触る","link":"https://zenn.dev/nazo/scraps/f759675dcdc709","pubDate":"Wed, 31 Jan 2024 12:52:40 GMT","dc:creator":"nazo","guid":"https://zenn.dev/nazo/scraps/f759675dcdc709","isoDate":"2024-01-31T12:52:40.000Z"},{"title":"gcloud-aio-bigquery snippet","link":"https://gist.github.com/nazo/527f7ae680fed5e2df919a151ea946a5","pubDate":"2024-01-28T05:23:05.000Z","author":"nazo","content":"  \u003ca href=\"https://gist.github.com/nazo/527f7ae680fed5e2df919a151ea946a5#file-gcloud-aio-bigquery-snippet-py\"\u003egcloud-aio-bigquery-snippet.py\u003c/a\u003e\n  \u003cdiv class=\"js-gist-file-update-container js-task-list-container file-box\"\u003e\n  \u003cdiv id=\"file-gcloud-aio-bigquery-snippet-py\" class=\"file my-2\"\u003e\n    \n    \u003cdiv itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-python  \"\u003e\n\n        \n\u003cdiv class=\"js-check-bidi js-blob-code-container blob-code-content\"\u003e\n\n  \u003ctemplate class=\"js-file-alert-template\"\u003e\n  \u003cdiv data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\"\u003e\n  \u003csvg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\"\u003e\n    \u003cpath d=\"M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n    \u003cspan\u003e\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      \u003ca class=\"Link--inTextBlock\" href=\"https://github.co/hiddenchars\" target=\"_blank\"\u003eLearn more about bidirectional Unicode characters\u003c/a\u003e\n    \u003c/span\u003e\n\n\n  \u003cdiv data-view-component=\"true\" class=\"flash-action\"\u003e        \u003ca href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\"\u003e    Show hidden characters\n\u003c/a\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003c/template\u003e\n\u003ctemplate class=\"js-line-alert-template\"\u003e\n  \u003cspan aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\"\u003e\n    \u003csvg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\"\u003e\n    \u003cpath d=\"M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\u003c/span\u003e\u003c/template\u003e\n\n  \u003ctable data-hpc class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip data-tagsearch-lang=\"Python\" data-tagsearch-path=\"gcloud-aio-bigquery-snippet.py\"\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC1\" class=\"blob-code blob-code-inner js-file-line\"\u003e\u003cspan class=pl-k\u003eimport\u003c/span\u003e \u003cspan class=pl-s1\u003easyncio\u003c/span\u003e\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC2\" class=\"blob-code blob-code-inner js-file-line\"\u003e\u003cspan class=pl-k\u003efrom\u003c/span\u003e \u003cspan class=pl-s1\u003ecollections\u003c/span\u003e.\u003cspan class=pl-s1\u003eabc\u003c/span\u003e \u003cspan class=pl-k\u003eimport\u003c/span\u003e \u003cspan class=pl-v\u003eAsyncGenerator\u003c/span\u003e\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC3\" class=\"blob-code blob-code-inner js-file-line\"\u003e\n\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC4\" class=\"blob-code blob-code-inner js-file-line\"\u003e\u003cspan class=pl-k\u003eimport\u003c/span\u003e \u003cspan class=pl-s1\u003eaiohttp\u003c/span\u003e\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC5\" class=\"blob-code blob-code-inner js-file-line\"\u003e\u003cspan class=pl-k\u003efrom\u003c/span\u003e \u003cspan class=pl-s1\u003egcloud\u003c/span\u003e.\u003cspan class=pl-s1\u003eaio\u003c/span\u003e.\u003cspan class=pl-s1\u003ebigquery\u003c/span\u003e \u003cspan class=pl-k\u003eimport\u003c/span\u003e \u003cspan class=pl-v\u003eJob\u003c/span\u003e\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC6\" class=\"blob-code blob-code-inner js-file-line\"\u003e\u003cspan class=pl-k\u003efrom\u003c/span\u003e \u003cspan class=pl-s1\u003egoogle\u003c/span\u003e.\u003cspan class=pl-s1\u003ecloud\u003c/span\u003e \u003cspan class=pl-k\u003eimport\u003c/span\u003e \u003cspan class=pl-s1\u003ebigquery\u003c/span\u003e\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC7\" class=\"blob-code blob-code-inner js-file-line\"\u003e\u003cspan class=pl-k\u003efrom\u003c/span\u003e \u003cspan class=pl-s1\u003egoogle\u003c/span\u003e.\u003cspan class=pl-s1\u003ecloud\u003c/span\u003e.\u003cspan class=pl-s1\u003ebigquery\u003c/span\u003e.\u003cspan class=pl-s1\u003e_helpers\u003c/span\u003e \u003cspan class=pl-k\u003eimport\u003c/span\u003e \u003cspan class=pl-s1\u003e_rows_from_json\u003c/span\u003e\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC8\" class=\"blob-code blob-code-inner js-file-line\"\u003e\u003cspan class=pl-k\u003efrom\u003c/span\u003e \u003cspan class=pl-s1\u003egoogle\u003c/span\u003e.\u003cspan class=pl-s1\u003ecloud\u003c/span\u003e.\u003cspan class=pl-s1\u003ebigquery\u003c/span\u003e.\u003cspan class=pl-s1\u003etable\u003c/span\u003e \u003cspan class=pl-k\u003eimport\u003c/span\u003e \u003cspan class=pl-s1\u003e_parse_schema_resource\u003c/span\u003e  \u003cspan class=pl-c\u003e# type:ignore\u003c/span\u003e\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC9\" class=\"blob-code blob-code-inner js-file-line\"\u003e\n\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC10\" class=\"blob-code blob-code-inner js-file-line\"\u003e\n\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC11\" class=\"blob-code blob-code-inner js-file-line\"\u003e\u003cspan class=pl-k\u003easync\u003c/span\u003e \u003cspan class=pl-k\u003edef\u003c/span\u003e \u003cspan class=pl-en\u003equery\u003c/span\u003e(\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC12\" class=\"blob-code blob-code-inner js-file-line\"\u003e    \u003cspan class=pl-s1\u003esql\u003c/span\u003e: \u003cspan class=pl-s1\u003estr\u003c/span\u003e, \u003cspan class=pl-s1\u003emax_results\u003c/span\u003e: \u003cspan class=pl-s1\u003eint\u003c/span\u003e \u003cspan class=pl-c1\u003e=\u003c/span\u003e \u003cspan class=pl-c1\u003e100\u003c/span\u003e\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC13\" class=\"blob-code blob-code-inner js-file-line\"\u003e) \u003cspan class=pl-c1\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=pl-v\u003eAsyncGenerator\u003c/span\u003e[\u003cspan class=pl-s1\u003elist\u003c/span\u003e[\u003cspan class=pl-s1\u003ebigquery\u003c/span\u003e.\u003cspan class=pl-v\u003eRow\u003c/span\u003e], \u003cspan class=pl-c1\u003eNone\u003c/span\u003e]:\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC14\" class=\"blob-code blob-code-inner js-file-line\"\u003e    \u003cspan class=pl-s1\u003eloop\u003c/span\u003e \u003cspan class=pl-c1\u003e=\u003c/span\u003e \u003cspan class=pl-s1\u003easyncio\u003c/span\u003e.\u003cspan class=pl-en\u003eget_running_loop\u003c/span\u003e()\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC15\" class=\"blob-code blob-code-inner js-file-line\"\u003e    \u003cspan class=pl-k\u003easync\u003c/span\u003e \u003cspan class=pl-k\u003ewith\u003c/span\u003e \u003cspan class=pl-s1\u003eaiohttp\u003c/span\u003e.\u003cspan class=pl-v\u003eClientSession\u003c/span\u003e(\u003cspan class=pl-s1\u003eloop\u003c/span\u003e\u003cspan class=pl-c1\u003e=\u003c/span\u003e\u003cspan class=pl-s1\u003eloop\u003c/span\u003e) \u003cspan class=pl-k\u003eas\u003c/span\u003e \u003cspan class=pl-s1\u003esession\u003c/span\u003e:\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC16\" class=\"blob-code blob-code-inner js-file-line\"\u003e        \u003cspan class=pl-s1\u003ejob\u003c/span\u003e \u003cspan class=pl-c1\u003e=\u003c/span\u003e \u003cspan class=pl-v\u003eJob\u003c/span\u003e(\u003cspan class=pl-s1\u003esession\u003c/span\u003e\u003cspan class=pl-c1\u003e=\u003c/span\u003e\u003cspan class=pl-s1\u003esession\u003c/span\u003e)\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC17\" class=\"blob-code blob-code-inner js-file-line\"\u003e        \u003cspan class=pl-s1\u003equery_request\u003c/span\u003e \u003cspan class=pl-c1\u003e=\u003c/span\u003e {\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC18\" class=\"blob-code blob-code-inner js-file-line\"\u003e            \u003cspan class=pl-s\u003e\u0026quot;query\u0026quot;\u003c/span\u003e: \u003cspan class=pl-s1\u003esql\u003c/span\u003e,\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L19\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"19\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC19\" class=\"blob-code blob-code-inner js-file-line\"\u003e            \u003cspan class=pl-s\u003e\u0026quot;maxResults\u0026quot;\u003c/span\u003e: \u003cspan class=pl-s1\u003emax_results\u003c/span\u003e,\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L20\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"20\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC20\" class=\"blob-code blob-code-inner js-file-line\"\u003e            \u003cspan class=pl-s\u003e\u0026quot;useLegacySql\u0026quot;\u003c/span\u003e: \u003cspan class=pl-s\u003e\u0026quot;false\u0026quot;\u003c/span\u003e,\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L21\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"21\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC21\" class=\"blob-code blob-code-inner js-file-line\"\u003e        }\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L22\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"22\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC22\" class=\"blob-code blob-code-inner js-file-line\"\u003e        \u003cspan class=pl-s1\u003eresponse\u003c/span\u003e \u003cspan class=pl-c1\u003e=\u003c/span\u003e \u003cspan class=pl-k\u003eawait\u003c/span\u003e \u003cspan class=pl-s1\u003ejob\u003c/span\u003e.\u003cspan class=pl-en\u003equery\u003c/span\u003e(\u003cspan class=pl-s1\u003equery_request\u003c/span\u003e\u003cspan class=pl-c1\u003e=\u003c/span\u003e\u003cspan class=pl-s1\u003equery_request\u003c/span\u003e)\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L23\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"23\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC23\" class=\"blob-code blob-code-inner js-file-line\"\u003e        \u003cspan class=pl-k\u003ewhile\u003c/span\u003e \u003cspan class=pl-c1\u003eTrue\u003c/span\u003e:\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L24\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"24\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC24\" class=\"blob-code blob-code-inner js-file-line\"\u003e            \u003cspan class=pl-s1\u003eerrors\u003c/span\u003e \u003cspan class=pl-c1\u003e=\u003c/span\u003e \u003cspan class=pl-s1\u003eresponse\u003c/span\u003e.\u003cspan class=pl-en\u003eget\u003c/span\u003e(\u003cspan class=pl-s\u003e\u0026quot;errors\u0026quot;\u003c/span\u003e)\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L25\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"25\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC25\" class=\"blob-code blob-code-inner js-file-line\"\u003e            \u003cspan class=pl-s1\u003epage_token\u003c/span\u003e \u003cspan class=pl-c1\u003e=\u003c/span\u003e \u003cspan class=pl-s1\u003eresponse\u003c/span\u003e.\u003cspan class=pl-en\u003eget\u003c/span\u003e(\u003cspan class=pl-s\u003e\u0026quot;pageToken\u0026quot;\u003c/span\u003e)\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L26\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"26\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC26\" class=\"blob-code blob-code-inner js-file-line\"\u003e            \u003cspan class=pl-k\u003eif\u003c/span\u003e \u003cspan class=pl-s1\u003eerrors\u003c/span\u003e \u003cspan class=pl-c1\u003eis\u003c/span\u003e \u003cspan class=pl-c1\u003enot\u003c/span\u003e \u003cspan class=pl-c1\u003eNone\u003c/span\u003e:\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L27\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"27\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC27\" class=\"blob-code blob-code-inner js-file-line\"\u003e                \u003cspan class=pl-k\u003eraise\u003c/span\u003e \u003cspan class=pl-v\u003eRuntimeError\u003c/span\u003e(\u003cspan class=pl-s1\u003eerrors\u003c/span\u003e)\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L28\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"28\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC28\" class=\"blob-code blob-code-inner js-file-line\"\u003e            \u003cspan class=pl-k\u003eif\u003c/span\u003e \u003cspan class=pl-s1\u003eresponse\u003c/span\u003e.\u003cspan class=pl-en\u003eget\u003c/span\u003e(\u003cspan class=pl-s\u003e\u0026quot;jobComplete\u0026quot;\u003c/span\u003e):\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L29\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"29\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC29\" class=\"blob-code blob-code-inner js-file-line\"\u003e                \u003cspan class=pl-k\u003eif\u003c/span\u003e \u003cspan class=pl-en\u003eint\u003c/span\u003e(\u003cspan class=pl-s1\u003eresponse\u003c/span\u003e.\u003cspan class=pl-en\u003eget\u003c/span\u003e(\u003cspan class=pl-s\u003e\u0026quot;totalRows\u0026quot;\u003c/span\u003e, \u003cspan class=pl-c1\u003e0\u003c/span\u003e)) \u003cspan class=pl-c1\u003e==\u003c/span\u003e \u003cspan class=pl-c1\u003e0\u003c/span\u003e:\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L30\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"30\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC30\" class=\"blob-code blob-code-inner js-file-line\"\u003e                    \u003cspan class=pl-k\u003ereturn\u003c/span\u003e\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L31\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"31\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC31\" class=\"blob-code blob-code-inner js-file-line\"\u003e                \u003cspan class=pl-s1\u003eschema\u003c/span\u003e \u003cspan class=pl-c1\u003e=\u003c/span\u003e \u003cspan class=pl-en\u003e_parse_schema_resource\u003c/span\u003e(\u003cspan class=pl-s1\u003eresponse\u003c/span\u003e.\u003cspan class=pl-en\u003eget\u003c/span\u003e(\u003cspan class=pl-s\u003e\u0026quot;schema\u0026quot;\u003c/span\u003e, {}))\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L32\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"32\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC32\" class=\"blob-code blob-code-inner js-file-line\"\u003e                \u003cspan class=pl-k\u003eyield\u003c/span\u003e \u003cspan class=pl-en\u003e_rows_from_json\u003c/span\u003e(\u003cspan class=pl-s1\u003eresponse\u003c/span\u003e.\u003cspan class=pl-en\u003eget\u003c/span\u003e(\u003cspan class=pl-s\u003e\u0026quot;rows\u0026quot;\u003c/span\u003e, ()), \u003cspan class=pl-s1\u003eschema\u003c/span\u003e)\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L33\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"33\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC33\" class=\"blob-code blob-code-inner js-file-line\"\u003e                \u003cspan class=pl-k\u003eif\u003c/span\u003e \u003cspan class=pl-s1\u003epage_token\u003c/span\u003e \u003cspan class=pl-c1\u003eis\u003c/span\u003e \u003cspan class=pl-c1\u003eNone\u003c/span\u003e:\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L34\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"34\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC34\" class=\"blob-code blob-code-inner js-file-line\"\u003e                    \u003cspan class=pl-k\u003ereturn\u003c/span\u003e\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L35\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"35\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC35\" class=\"blob-code blob-code-inner js-file-line\"\u003e            \u003cspan class=pl-k\u003eelse\u003c/span\u003e:\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L36\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"36\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC36\" class=\"blob-code blob-code-inner js-file-line\"\u003e                \u003cspan class=pl-k\u003eawait\u003c/span\u003e \u003cspan class=pl-s1\u003easyncio\u003c/span\u003e.\u003cspan class=pl-en\u003esleep\u003c/span\u003e(\u003cspan class=pl-c1\u003e1.0\u003c/span\u003e)\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L37\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"37\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC37\" class=\"blob-code blob-code-inner js-file-line\"\u003e            \u003cspan class=pl-s1\u003ejob\u003c/span\u003e \u003cspan class=pl-c1\u003e=\u003c/span\u003e \u003cspan class=pl-v\u003eJob\u003c/span\u003e(\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L38\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"38\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC38\" class=\"blob-code blob-code-inner js-file-line\"\u003e                \u003cspan class=pl-s1\u003ejob_id\u003c/span\u003e\u003cspan class=pl-c1\u003e=\u003c/span\u003e\u003cspan class=pl-s1\u003eresponse\u003c/span\u003e[\u003cspan class=pl-s\u003e\u0026quot;jobReference\u0026quot;\u003c/span\u003e][\u003cspan class=pl-s\u003e\u0026quot;jobId\u0026quot;\u003c/span\u003e],\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L39\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"39\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC39\" class=\"blob-code blob-code-inner js-file-line\"\u003e                \u003cspan class=pl-s1\u003eproject\u003c/span\u003e\u003cspan class=pl-c1\u003e=\u003c/span\u003e\u003cspan class=pl-s1\u003eresponse\u003c/span\u003e[\u003cspan class=pl-s\u003e\u0026quot;jobReference\u0026quot;\u003c/span\u003e][\u003cspan class=pl-s\u003e\u0026quot;projectId\u0026quot;\u003c/span\u003e],\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L40\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"40\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC40\" class=\"blob-code blob-code-inner js-file-line\"\u003e                \u003cspan class=pl-s1\u003esession\u003c/span\u003e\u003cspan class=pl-c1\u003e=\u003c/span\u003e\u003cspan class=pl-s1\u003esession\u003c/span\u003e,\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L41\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"41\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC41\" class=\"blob-code blob-code-inner js-file-line\"\u003e            )\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L42\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"42\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC42\" class=\"blob-code blob-code-inner js-file-line\"\u003e            \u003cspan class=pl-s1\u003eparams\u003c/span\u003e \u003cspan class=pl-c1\u003e=\u003c/span\u003e {\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L43\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"43\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC43\" class=\"blob-code blob-code-inner js-file-line\"\u003e                \u003cspan class=pl-s\u003e\u0026quot;location\u0026quot;\u003c/span\u003e: \u003cspan class=pl-s1\u003eresponse\u003c/span\u003e[\u003cspan class=pl-s\u003e\u0026quot;jobReference\u0026quot;\u003c/span\u003e][\u003cspan class=pl-s\u003e\u0026quot;location\u0026quot;\u003c/span\u003e],\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L44\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"44\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC44\" class=\"blob-code blob-code-inner js-file-line\"\u003e                \u003cspan class=pl-s\u003e\u0026quot;maxResults\u0026quot;\u003c/span\u003e: \u003cspan class=pl-s1\u003emax_results\u003c/span\u003e,\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L45\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"45\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC45\" class=\"blob-code blob-code-inner js-file-line\"\u003e                \u003cspan class=pl-s\u003e\u0026quot;pageToken\u0026quot;\u003c/span\u003e: \u003cspan class=pl-s1\u003epage_token\u003c/span\u003e,\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L46\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"46\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC46\" class=\"blob-code blob-code-inner js-file-line\"\u003e            }\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L47\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"47\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC47\" class=\"blob-code blob-code-inner js-file-line\"\u003e            \u003cspan class=pl-s1\u003eresponse\u003c/span\u003e \u003cspan class=pl-c1\u003e=\u003c/span\u003e \u003cspan class=pl-k\u003eawait\u003c/span\u003e \u003cspan class=pl-s1\u003ejob\u003c/span\u003e.\u003cspan class=pl-en\u003eget_query_results\u003c/span\u003e(\u003cspan class=pl-s1\u003eparams\u003c/span\u003e\u003cspan class=pl-c1\u003e=\u003c/span\u003e\u003cspan class=pl-s1\u003eparams\u003c/span\u003e)\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L48\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"48\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC48\" class=\"blob-code blob-code-inner js-file-line\"\u003e\n\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L49\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"49\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC49\" class=\"blob-code blob-code-inner js-file-line\"\u003e\n\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L50\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"50\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC50\" class=\"blob-code blob-code-inner js-file-line\"\u003e\u003cspan class=pl-k\u003easync\u003c/span\u003e \u003cspan class=pl-k\u003edef\u003c/span\u003e \u003cspan class=pl-en\u003emain\u003c/span\u003e() \u003cspan class=pl-c1\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=pl-c1\u003eNone\u003c/span\u003e:\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L51\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"51\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC51\" class=\"blob-code blob-code-inner js-file-line\"\u003e    \u003cspan class=pl-k\u003easync\u003c/span\u003e \u003cspan class=pl-k\u003efor\u003c/span\u003e \u003cspan class=pl-s1\u003erows\u003c/span\u003e \u003cspan class=pl-c1\u003ein\u003c/span\u003e \u003cspan class=pl-en\u003equery\u003c/span\u003e(\u003cspan class=pl-s\u003e\u0026quot;SELECT * FROM `project_id.dataset_id.table`\u0026quot;\u003c/span\u003e):\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L52\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"52\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC52\" class=\"blob-code blob-code-inner js-file-line\"\u003e        \u003cspan class=pl-k\u003efor\u003c/span\u003e \u003cspan class=pl-s1\u003erow\u003c/span\u003e \u003cspan class=pl-c1\u003ein\u003c/span\u003e \u003cspan class=pl-s1\u003erows\u003c/span\u003e:\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L53\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"53\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC53\" class=\"blob-code blob-code-inner js-file-line\"\u003e            \u003cspan class=pl-k\u003efor\u003c/span\u003e \u003cspan class=pl-s1\u003ekey\u003c/span\u003e, \u003cspan class=pl-s1\u003evalue\u003c/span\u003e \u003cspan class=pl-c1\u003ein\u003c/span\u003e \u003cspan class=pl-s1\u003erow\u003c/span\u003e.\u003cspan class=pl-en\u003eitems\u003c/span\u003e():\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L54\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"54\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC54\" class=\"blob-code blob-code-inner js-file-line\"\u003e                \u003cspan class=pl-en\u003eprint\u003c/span\u003e(\u003cspan class=pl-s\u003ef\u0026quot;\u003cspan class=pl-s1\u003e\u003cspan class=pl-kos\u003e{\u003c/span\u003e\u003cspan class=pl-s1\u003ekey\u003c/span\u003e\u003cspan class=pl-kos\u003e}\u003c/span\u003e\u003c/span\u003e=\u003cspan class=pl-s1\u003e\u003cspan class=pl-kos\u003e{\u003c/span\u003e\u003cspan class=pl-s1\u003evalue\u003c/span\u003e\u003cspan class=pl-kos\u003e}\u003c/span\u003e\u003c/span\u003e\u0026quot;\u003c/span\u003e)\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L55\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"55\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC55\" class=\"blob-code blob-code-inner js-file-line\"\u003e\n\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L56\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"56\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC56\" class=\"blob-code blob-code-inner js-file-line\"\u003e\n\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L57\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"57\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC57\" class=\"blob-code blob-code-inner js-file-line\"\u003e\u003cspan class=pl-k\u003eif\u003c/span\u003e \u003cspan class=pl-s1\u003e__name__\u003c/span\u003e \u003cspan class=pl-c1\u003e==\u003c/span\u003e \u003cspan class=pl-s\u003e\u0026quot;__main__\u0026quot;\u003c/span\u003e:\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-L58\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"58\"\u003e\u003c/td\u003e\n          \u003ctd id=\"file-gcloud-aio-bigquery-snippet-py-LC58\" class=\"blob-code blob-code-inner js-file-line\"\u003e    \u003cspan class=pl-s1\u003easyncio\u003c/span\u003e.\u003cspan class=pl-en\u003erun\u003c/span\u003e(\u003cspan class=pl-en\u003emain\u003c/span\u003e())\u003c/td\u003e\n        \u003c/tr\u003e\n  \u003c/table\u003e\n\u003c/div\u003e\n\n\n    \u003c/div\u003e\n\n  \u003c/div\u003e\n\u003c/div\u003e\n\n","contentSnippet":"gcloud-aio-bigquery-snippet.py\n  \n\n\n    \n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      Learn more about bidirectional Unicode characters\n    \n\n\n  \n            Show hidden characters\n\n\n\n\n  \n    \n    \n\n\n\n\n  \n\n          import asyncio\n        \n\n          from collections.abc import AsyncGenerator\n        \n\n          \n\n        \n\n          import aiohttp\n        \n\n          from gcloud.aio.bigquery import Job\n        \n\n          from google.cloud import bigquery\n        \n\n          from google.cloud.bigquery._helpers import _rows_from_json\n        \n\n          from google.cloud.bigquery.table import _parse_schema_resource  # type:ignore\n        \n\n          \n\n        \n\n          \n\n        \n\n          async def query(\n        \n\n              sql: str, max_results: int = 100\n        \n\n          ) -\u003e AsyncGenerator[list[bigquery.Row], None]:\n        \n\n              loop = asyncio.get_running_loop()\n        \n\n              async with aiohttp.ClientSession(loop=loop) as session:\n        \n\n                  job = Job(session=session)\n        \n\n                  query_request = {\n        \n\n                      \"query\": sql,\n        \n\n                      \"maxResults\": max_results,\n        \n\n                      \"useLegacySql\": \"false\",\n        \n\n                  }\n        \n\n                  response = await job.query(query_request=query_request)\n        \n\n                  while True:\n        \n\n                      errors = response.get(\"errors\")\n        \n\n                      page_token = response.get(\"pageToken\")\n        \n\n                      if errors is not None:\n        \n\n                          raise RuntimeError(errors)\n        \n\n                      if response.get(\"jobComplete\"):\n        \n\n                          if int(response.get(\"totalRows\", 0)) == 0:\n        \n\n                              return\n        \n\n                          schema = _parse_schema_resource(response.get(\"schema\", {}))\n        \n\n                          yield _rows_from_json(response.get(\"rows\", ()), schema)\n        \n\n                          if page_token is None:\n        \n\n                              return\n        \n\n                      else:\n        \n\n                          await asyncio.sleep(1.0)\n        \n\n                      job = Job(\n        \n\n                          job_id=response[\"jobReference\"][\"jobId\"],\n        \n\n                          project=response[\"jobReference\"][\"projectId\"],\n        \n\n                          session=session,\n        \n\n                      )\n        \n\n                      params = {\n        \n\n                          \"location\": response[\"jobReference\"][\"location\"],\n        \n\n                          \"maxResults\": max_results,\n        \n\n                          \"pageToken\": page_token,\n        \n\n                      }\n        \n\n                      response = await job.get_query_results(params=params)\n        \n\n          \n\n        \n\n          \n\n        \n\n          async def main() -\u003e None:\n        \n\n              async for rows in query(\"SELECT * FROM `project_id.dataset_id.table`\"):\n        \n\n                  for row in rows:\n        \n\n                      for key, value in row.items():\n        \n\n                          print(f\"{key}={value}\")\n        \n\n          \n\n        \n\n          \n\n        \n\n          if __name__ == \"__main__\":\n        \n\n              asyncio.run(main())","id":"tag:gist.github.com,2008:Gist/nazo/527f7ae680fed5e2df919a151ea946a5","isoDate":"2024-01-28T05:23:05.000Z"},{"title":"gcloud-aio-bigqueryでasync/awaitを使ってBigQueryのクエリを叩く","link":"https://nazo.hatenablog.com/entry/gcloud-aio-bigquery","pubDate":"2024-01-09T03:00:00.000Z","author":"nazone","content":"\u003cp\u003e\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/Python\"\u003ePython\u003c/a\u003eからBigQueryを叩くには公式の \u003ca href=\"https://pypi.org/project/google-cloud-bigquery/\"\u003egoogle-cloud-bigquery\u003c/a\u003e があるのですが、asyncioに対応していません。\u003c/p\u003e\n\n\u003cp\u003e一部のライブラリではv2側でasyncioに対応しているのですが、BigQueryはv2でも対応していないように見えます。ちなみにv1はほとんどの実装で\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/REST%20API\"\u003eREST API\u003c/a\u003eを叩いて、v2はほとんどの実装でRPC \u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/API\"\u003eAPI\u003c/a\u003eを叩いています（どちらも全部確認したわけではありません）。一部のライブラリでv2のほうを叩くとサーバーエラーが多発したこともあり、今のところなるべくv1でasyncioを使用したいです。\u003c/p\u003e\n\n\u003cp\u003e\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/GCP\"\u003eGCP\u003c/a\u003eの\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/Python\"\u003ePython\u003c/a\u003eライブラリをasyncioで動くように書き換えたものが \u003ca href=\"https://github.com/talkiq/gcloud-aio\"\u003egcloud-aio\u003c/a\u003e で用意されており、その中に \u003ca href=\"https://pypi.org/project/gcloud-aio-bigquery/\"\u003egcloud-aio-bigquery\u003c/a\u003e があります。あまり使われているのを見かけませんが、\u003ca href=\"https://github.com/apache/airflow/blob/08f6e2e5d21382494597e6cac66725bc85729656/airflow/providers/google/provider.yaml#L89C1-L91\"\u003eAirflowのGCP周りの一部で使われている\u003c/a\u003eようです。\u003c/p\u003e\n\n\u003cp\u003eただし\u003ca href=\"https://cloud.google.com/bigquery/docs/reference/rest\"\u003eREST API\u003c/a\u003eそのままの実装になっているため、\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/REST%20API\"\u003eREST API\u003c/a\u003eの知識が必要です。手軽に使えるとは言い難いです。\u003c/p\u003e\n\n\u003ch1 id=\"REST-APIでの流れ\"\u003e\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/REST%20API\"\u003eREST API\u003c/a\u003eでの流れ\u003c/h1\u003e\n\n\u003cp\u003eまずクエリを実行するには \u003ca href=\"https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/query\"\u003ejobs.query\u003c/a\u003e を呼びます。\u003c/p\u003e\n\n\u003cp\u003e代表的なパラメーターは以下の通りです。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003equery : 必須。\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/SQL\"\u003eSQL\u003c/a\u003eクエリを指定する。\u003c/li\u003e\n\u003cli\u003emaxResults : １レスポンスに含まれる行数。指定しなくてもバイト数でページングされるが、指定しておいたほうが安全。\u003c/li\u003e\n\u003cli\u003etimeoutMs : \u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/%A5%BF%A5%A4%A5%E0%A5%A2%A5%A6%A5%C8\"\u003eタイムアウト\u003c/a\u003eの秒数\u003c/li\u003e\n\u003cli\u003euseLegacySql : BigQueryのレガシー\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/SQL\"\u003eSQL\u003c/a\u003eを使用するかどうか。デフォルトtrueなのでfalseを指定しておいたほうがいい。\u003c/li\u003e\n\u003c/ul\u003e\n\n\n\u003cp\u003e実行するとジョブが作成されます。\u003c/p\u003e\n\n\u003cp\u003eレスポンスを確認してデータが完結しているか確認します。 \u003ccode\u003ejobComplete\u003c/code\u003e が true の場合、ジョブが完了して結果の行を取得できる状態です。この場合、 \u003ccode\u003erows\u003c/code\u003e に結果の行が含まれています。また、 \u003ccode\u003eschema\u003c/code\u003e に\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/%A5%B9%A5%AD%A1%BC%A5%DE\"\u003eスキーマ\u003c/a\u003eが含まれています。 \u003ccode\u003erows\u003c/code\u003e だけ見てもどの列の何のデータがの判別が難しいので、 \u003ccode\u003eschema\u003c/code\u003e と合わせて確認します。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003ejobComplete\u003c/code\u003e が true で、 \u003ccode\u003epageToken\u003c/code\u003e が含まれている場合、まだ読み込むべきデータが残っているので続きを読み込みます。 \u003ccode\u003epageToken\u003c/code\u003e が無ければ終了です。\u003c/p\u003e\n\n\u003cp\u003eデータが完結していない場合は、レスポンスの \u003ccode\u003ejobReference\u003c/code\u003e の \u003ccode\u003ejobId\u003c/code\u003e を拾って、（ \u003ccode\u003epageToken\u003c/code\u003e があればそれも一緒に）  \u003ca href=\"https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/getQueryResults\"\u003ejobs.getQueryResults\u003c/a\u003e を実行します。結果は jobs.query と同じです。\u003c/p\u003e\n\n\u003cp\u003e全体の流れをまとめると以下のようになります。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ejobs.query でジョブを作成\u003c/li\u003e\n\u003cli\u003ejobComplete が true なら\n\n\u003cul\u003e\n\u003cli\u003erows がない（totalRows=0）→終了\u003c/li\u003e\n\u003cli\u003erows がある→そのデータを使う\u003c/li\u003e\n\u003cli\u003epageToken がない→終了\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ejobComplete が false 、または pageToken がある→ jobs.getQueryResults を実行し、上の判定ロジックに戻る\u003c/li\u003e\n\u003c/ul\u003e\n\n\n\u003ch1 id=\"実際に使ってみる\"\u003e実際に使ってみる\u003c/h1\u003e\n\n\u003cp\u003e実際に動くものが以下になります。\u003c/p\u003e\n\n\u003cpre class=\"code lang-python\" data-lang=\"python\" data-unlink\u003e\u003cspan class=\"synPreProc\"\u003eimport\u003c/span\u003e asyncio\n\u003cspan class=\"synPreProc\"\u003efrom\u003c/span\u003e collections.abc \u003cspan class=\"synPreProc\"\u003eimport\u003c/span\u003e AsyncGenerator\n\n\u003cspan class=\"synPreProc\"\u003eimport\u003c/span\u003e aiohttp\n\u003cspan class=\"synPreProc\"\u003efrom\u003c/span\u003e gcloud.aio.bigquery \u003cspan class=\"synPreProc\"\u003eimport\u003c/span\u003e Job\n\u003cspan class=\"synPreProc\"\u003efrom\u003c/span\u003e google.cloud \u003cspan class=\"synPreProc\"\u003eimport\u003c/span\u003e bigquery\n\u003cspan class=\"synPreProc\"\u003efrom\u003c/span\u003e google.cloud.bigquery._helpers \u003cspan class=\"synPreProc\"\u003eimport\u003c/span\u003e _rows_from_json\n\u003cspan class=\"synPreProc\"\u003efrom\u003c/span\u003e google.cloud.bigquery.table \u003cspan class=\"synPreProc\"\u003eimport\u003c/span\u003e _parse_schema_resource  \u003cspan class=\"synComment\"\u003e# type:ignore\u003c/span\u003e\n\n\n\u003cspan class=\"synStatement\"\u003easync\u003c/span\u003e \u003cspan class=\"synStatement\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003equery\u003c/span\u003e(\n    sql: \u003cspan class=\"synIdentifier\"\u003estr\u003c/span\u003e, max_results: \u003cspan class=\"synIdentifier\"\u003eint\u003c/span\u003e = \u003cspan class=\"synConstant\"\u003e100\u003c/span\u003e\n) -\u0026gt; AsyncGenerator[\u003cspan class=\"synIdentifier\"\u003elist\u003c/span\u003e[bigquery.Row], \u003cspan class=\"synIdentifier\"\u003eNone\u003c/span\u003e]:\n    loop = asyncio.get_running_loop()\n    \u003cspan class=\"synStatement\"\u003easync\u003c/span\u003e \u003cspan class=\"synStatement\"\u003ewith\u003c/span\u003e aiohttp.ClientSession(loop=loop) \u003cspan class=\"synStatement\"\u003eas\u003c/span\u003e session:\n        job = Job(session=session)\n        query_request = {\n            \u003cspan class=\"synConstant\"\u003e\u0026quot;query\u0026quot;\u003c/span\u003e: sql,\n            \u003cspan class=\"synConstant\"\u003e\u0026quot;maxResults\u0026quot;\u003c/span\u003e: max_results,\n            \u003cspan class=\"synConstant\"\u003e\u0026quot;useLegacySql\u0026quot;\u003c/span\u003e: \u003cspan class=\"synConstant\"\u003e\u0026quot;false\u0026quot;\u003c/span\u003e,\n        }\n        response = \u003cspan class=\"synStatement\"\u003eawait\u003c/span\u003e job.query(query_request=query_request)\n        \u003cspan class=\"synStatement\"\u003ewhile\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003eTrue\u003c/span\u003e:\n            errors = response.get(\u003cspan class=\"synConstant\"\u003e\u0026quot;errors\u0026quot;\u003c/span\u003e)\n            page_token = response.get(\u003cspan class=\"synConstant\"\u003e\u0026quot;pageToken\u0026quot;\u003c/span\u003e)\n            \u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e errors \u003cspan class=\"synStatement\"\u003eis\u003c/span\u003e \u003cspan class=\"synStatement\"\u003enot\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003eNone\u003c/span\u003e:\n                \u003cspan class=\"synStatement\"\u003eraise\u003c/span\u003e \u003cspan class=\"synType\"\u003eRuntimeError\u003c/span\u003e(errors)\n            \u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e response.get(\u003cspan class=\"synConstant\"\u003e\u0026quot;jobComplete\u0026quot;\u003c/span\u003e):\n                \u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003eint\u003c/span\u003e(response.get(\u003cspan class=\"synConstant\"\u003e\u0026quot;totalRows\u0026quot;\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e)) == \u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e:\n                    \u003cspan class=\"synStatement\"\u003ereturn\u003c/span\u003e\n                schema = _parse_schema_resource(response.get(\u003cspan class=\"synConstant\"\u003e\u0026quot;schema\u0026quot;\u003c/span\u003e, {}))\n                \u003cspan class=\"synStatement\"\u003eyield\u003c/span\u003e _rows_from_json(response.get(\u003cspan class=\"synConstant\"\u003e\u0026quot;rows\u0026quot;\u003c/span\u003e, ()), schema)\n                \u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e page_token \u003cspan class=\"synStatement\"\u003eis\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003eNone\u003c/span\u003e:\n                    \u003cspan class=\"synStatement\"\u003ereturn\u003c/span\u003e\n            \u003cspan class=\"synStatement\"\u003eelse\u003c/span\u003e:\n                \u003cspan class=\"synStatement\"\u003eawait\u003c/span\u003e asyncio.sleep(\u003cspan class=\"synConstant\"\u003e1.0\u003c/span\u003e)  \u003cspan class=\"synComment\"\u003e# 終わってなさそうなので少し待つ\u003c/span\u003e\n            \u003cspan class=\"synComment\"\u003e# ジョブの結果を確認\u003c/span\u003e\n            job = Job(\n                job_id=response[\u003cspan class=\"synConstant\"\u003e\u0026quot;jobReference\u0026quot;\u003c/span\u003e][\u003cspan class=\"synConstant\"\u003e\u0026quot;jobId\u0026quot;\u003c/span\u003e],\n                project=response[\u003cspan class=\"synConstant\"\u003e\u0026quot;jobReference\u0026quot;\u003c/span\u003e][\u003cspan class=\"synConstant\"\u003e\u0026quot;projectId\u0026quot;\u003c/span\u003e],\n                session=session,\n            )\n            params = {\n                \u003cspan class=\"synConstant\"\u003e\u0026quot;location\u0026quot;\u003c/span\u003e: response[\u003cspan class=\"synConstant\"\u003e\u0026quot;jobReference\u0026quot;\u003c/span\u003e][\u003cspan class=\"synConstant\"\u003e\u0026quot;location\u0026quot;\u003c/span\u003e],\n                \u003cspan class=\"synConstant\"\u003e\u0026quot;maxResults\u0026quot;\u003c/span\u003e: max_results,\n                \u003cspan class=\"synConstant\"\u003e\u0026quot;pageToken\u0026quot;\u003c/span\u003e: page_token,\n            }\n            response = \u003cspan class=\"synStatement\"\u003eawait\u003c/span\u003e job.get_query_results(params=params)\n\n\n\u003cspan class=\"synStatement\"\u003easync\u003c/span\u003e \u003cspan class=\"synStatement\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003emain\u003c/span\u003e() -\u0026gt; \u003cspan class=\"synIdentifier\"\u003eNone\u003c/span\u003e:\n    \u003cspan class=\"synStatement\"\u003easync\u003c/span\u003e \u003cspan class=\"synStatement\"\u003efor\u003c/span\u003e rows \u003cspan class=\"synStatement\"\u003ein\u003c/span\u003e query(\u003cspan class=\"synConstant\"\u003e\u0026quot;SELECT * FROM `project_id.dataset_id.table`\u0026quot;\u003c/span\u003e):\n        \u003cspan class=\"synStatement\"\u003efor\u003c/span\u003e row \u003cspan class=\"synStatement\"\u003ein\u003c/span\u003e rows:\n            \u003cspan class=\"synComment\"\u003e# row[\u0026quot;key\u0026quot;] で値を取得可能\u003c/span\u003e\n            \u003cspan class=\"synStatement\"\u003efor\u003c/span\u003e key, value \u003cspan class=\"synStatement\"\u003ein\u003c/span\u003e row.items():\n                \u003cspan class=\"synIdentifier\"\u003eprint\u003c/span\u003e(f\u003cspan class=\"synConstant\"\u003e\u0026quot;{key}={value}\u0026quot;\u003c/span\u003e)\n\n\n\u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e __name__ == \u003cspan class=\"synConstant\"\u003e\u0026quot;__main__\u0026quot;\u003c/span\u003e:\n    asyncio.run(main())\n\u003c/pre\u003e\n\n\n\u003cp\u003e雑に書いているので必要に応じて書き換えてください。\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/%A5%BF%A5%A4%A5%E0%A5%A2%A5%A6%A5%C8\"\u003eタイムアウト\u003c/a\u003eの設定や例外の処理などが別途必要になります。\u003c/p\u003e\n\n\u003cp\u003e結果行の整形に公式の \u003ccode\u003egoogle-cloud-bigquery\u003c/code\u003e も使っています。また、 \u003ccode\u003eaiohttp\u003c/code\u003e パッケージも必要です。\u003c/p\u003e\n\n\u003cp\u003eプロジェクトIDを指定したい場合は Job のコンスト\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/%A5%E9%A5%AF\"\u003eラク\u003c/a\u003eタで指定してもいいですし、\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/%B4%C4%B6%AD%CA%D1%BF%F4\"\u003e環境変数\u003c/a\u003e \u003ccode\u003eGOOGLE_CLOUD_PROJECT\u003c/code\u003e などで指定しても反映されます。\u003c/p\u003e\n\n\u003ch1 id=\"まとめ\"\u003eまとめ\u003c/h1\u003e\n\n\u003cp\u003e公式で対応してほしいです。\u003c/p\u003e\n","contentSnippet":"PythonからBigQueryを叩くには公式の google-cloud-bigquery があるのですが、asyncioに対応していません。\n一部のライブラリではv2側でasyncioに対応しているのですが、BigQueryはv2でも対応していないように見えます。ちなみにv1はほとんどの実装でREST APIを叩いて、v2はほとんどの実装でRPC APIを叩いています（どちらも全部確認したわけではありません）。一部のライブラリでv2のほうを叩くとサーバーエラーが多発したこともあり、今のところなるべくv1でasyncioを使用したいです。\nGCPのPythonライブラリをasyncioで動くように書き換えたものが gcloud-aio で用意されており、その中に gcloud-aio-bigquery があります。あまり使われているのを見かけませんが、AirflowのGCP周りの一部で使われているようです。\nただしREST APIそのままの実装になっているため、REST APIの知識が必要です。手軽に使えるとは言い難いです。\nREST APIでの流れ\nまずクエリを実行するには jobs.query を呼びます。\n代表的なパラメーターは以下の通りです。\nquery : 必須。SQLクエリを指定する。\nmaxResults : １レスポンスに含まれる行数。指定しなくてもバイト数でページングされるが、指定しておいたほうが安全。\ntimeoutMs : タイムアウトの秒数\nuseLegacySql : BigQueryのレガシーSQLを使用するかどうか。デフォルトtrueなのでfalseを指定しておいたほうがいい。\n実行するとジョブが作成されます。\nレスポンスを確認してデータが完結しているか確認します。 jobComplete が true の場合、ジョブが完了して結果の行を取得できる状態です。この場合、 rows に結果の行が含まれています。また、 schema にスキーマが含まれています。 rows だけ見てもどの列の何のデータがの判別が難しいので、 schema と合わせて確認します。\njobComplete が true で、 pageToken が含まれている場合、まだ読み込むべきデータが残っているので続きを読み込みます。 pageToken が無ければ終了です。\nデータが完結していない場合は、レスポンスの jobReference の jobId を拾って、（ pageToken があればそれも一緒に）  jobs.getQueryResults を実行します。結果は jobs.query と同じです。\n全体の流れをまとめると以下のようになります。\njobs.query でジョブを作成\njobComplete が true なら\n\n\nrows がない（totalRows=0）→終了\nrows がある→そのデータを使う\npageToken がない→終了\njobComplete が false 、または pageToken がある→ jobs.getQueryResults を実行し、上の判定ロジックに戻る\n実際に使ってみる\n実際に動くものが以下になります。\nimport asyncio\nfrom collections.abc import AsyncGenerator\n\nimport aiohttp\nfrom gcloud.aio.bigquery import Job\nfrom google.cloud import bigquery\nfrom google.cloud.bigquery._helpers import _rows_from_json\nfrom google.cloud.bigquery.table import _parse_schema_resource  # type:ignore\n\n\nasync def query(\n    sql: str, max_results: int = 100\n) -\u003e AsyncGenerator[list[bigquery.Row], None]:\n    loop = asyncio.get_running_loop()\n    async with aiohttp.ClientSession(loop=loop) as session:\n        job = Job(session=session)\n        query_request = {\n            \"query\": sql,\n            \"maxResults\": max_results,\n            \"useLegacySql\": \"false\",\n        }\n        response = await job.query(query_request=query_request)\n        while True:\n            errors = response.get(\"errors\")\n            page_token = response.get(\"pageToken\")\n            if errors is not None:\n                raise RuntimeError(errors)\n            if response.get(\"jobComplete\"):\n                if int(response.get(\"totalRows\", 0)) == 0:\n                    return\n                schema = _parse_schema_resource(response.get(\"schema\", {}))\n                yield _rows_from_json(response.get(\"rows\", ()), schema)\n                if page_token is None:\n                    return\n            else:\n                await asyncio.sleep(1.0)  # 終わってなさそうなので少し待つ\n            # ジョブの結果を確認\n            job = Job(\n                job_id=response[\"jobReference\"][\"jobId\"],\n                project=response[\"jobReference\"][\"projectId\"],\n                session=session,\n            )\n            params = {\n                \"location\": response[\"jobReference\"][\"location\"],\n                \"maxResults\": max_results,\n                \"pageToken\": page_token,\n            }\n            response = await job.get_query_results(params=params)\n\n\nasync def main() -\u003e None:\n    async for rows in query(\"SELECT * FROM `project_id.dataset_id.table`\"):\n        for row in rows:\n            # row[\"key\"] で値を取得可能\n            for key, value in row.items():\n                print(f\"{key}={value}\")\n\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n\n\n\n雑に書いているので必要に応じて書き換えてください。タイムアウトの設定や例外の処理などが別途必要になります。\n結果行の整形に公式の google-cloud-bigquery も使っています。また、 aiohttp パッケージも必要です。\nプロジェクトIDを指定したい場合は Job のコンストラクタで指定してもいいですし、環境変数 GOOGLE_CLOUD_PROJECT などで指定しても反映されます。\nまとめ\n公式で対応してほしいです。","summary":"PythonからBigQueryを叩くには公式の google-cloud-bigquery があるのですが、asyncioに対応していません。 一部のライブラリではv2側でasyncioに対応しているのですが、BigQueryはv2でも対応していないように見えます。ちなみにv1はほとんどの実装でREST APIを叩いて、v2はほとんどの実装でRPC APIを叩いています（どちらも全部確認したわけではありません）。一部のライブラリでv2のほうを叩くとサーバーエラーが多発したこともあり、今のところなるべくv1でasyncioを使用したいです。 GCPのPythonライブラリをasyncioで動く…","id":"hatenablog://entry/6801883189072194905","isoDate":"2024-01-09T03:00:00.000Z"},{"creator":"nazo","title":"gcloud-aio-bigqueryでasync/awaitを使ってBigQueryのクエリを叩く","link":"https://zenn.dev/nazo/articles/9a75cc18e9d6ca","pubDate":"Tue, 09 Jan 2024 03:00:00 GMT","enclosure":{"url":"https://res.cloudinary.com/zenn/image/upload/s--mGw2hULs--/c_fit%2Cg_north_west%2Cl_text:notosansjp-medium.otf_55:gcloud-aio-bigquery%25E3%2581%25A7async%252Fawait%25E3%2582%2592%25E4%25BD%25BF%25E3%2581%25A3%25E3%2581%25A6BigQuery%25E3%2581%25AE%25E3%2582%25AF%25E3%2582%25A8%25E3%2583%25AA%25E3%2582%2592%25E5%258F%25A9%25E3%2581%258F%2Cw_1010%2Cx_90%2Cy_100/g_south_west%2Cl_text:notosansjp-medium.otf_37:nazo%2Cx_203%2Cy_121/g_south_west%2Ch_90%2Cl_fetch:aHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EtL0FPaDE0R2dZb0xlSnJaX3FJdGlhbThncXZyVkhIVUxRSXFWcUs5VGNqaXp1MWo4PXMyNTAtYw==%2Cr_max%2Cw_90%2Cx_87%2Cy_95/v1627283836/default/og-base-w1200-v2.png","length":"0","type":"image/png"},"dc:creator":"nazo","content":"PythonからBigQueryを叩くには公式の google-cloud-bigquery があるのですが、asyncioに対応していません。\n一部のライブラリではv2側でasyncioに対応しているのですが、BigQueryはv2でも対応していないように見えます。ちなみにv1はほとんどの実装でREST APIを叩いて、v2はほとんどの実装でRPC APIを叩いています（どちらも全部確認したわけではありません）。一部のライブラリでv2のほうを叩くとサーバーエラーが多発したこともあり、今のところなるべくv1でasyncioを使用したいです。\nGCPのPythonライブラリをasyncio...","contentSnippet":"PythonからBigQueryを叩くには公式の google-cloud-bigquery があるのですが、asyncioに対応していません。\n一部のライブラリではv2側でasyncioに対応しているのですが、BigQueryはv2でも対応していないように見えます。ちなみにv1はほとんどの実装でREST APIを叩いて、v2はほとんどの実装でRPC APIを叩いています（どちらも全部確認したわけではありません）。一部のライブラリでv2のほうを叩くとサーバーエラーが多発したこともあり、今のところなるべくv1でasyncioを使用したいです。\nGCPのPythonライブラリをasyncio...","guid":"https://zenn.dev/nazo/articles/9a75cc18e9d6ca","isoDate":"2024-01-09T03:00:00.000Z"},{"title":"nazoさんの2023年とこれから（お仕事募集中です！！）","link":"https://nazo.hatenablog.com/entry/2023-works","pubDate":"2023-12-29T03:00:00.000Z","author":"nazone","content":"\u003cul\u003e\n\u003cli\u003e2022年 : \u003ca href=\"https://nazo.hatenablog.com/entry/2022-works\"\u003ehttps://nazo.hatenablog.com/entry/2022-works\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e2021年 : \u003ca href=\"https://nazo.hatenablog.com/entry/2021-works\"\u003ehttps://nazo.hatenablog.com/entry/2021-works\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e2020年 : \u003ca href=\"https://nazo.hatenablog.com/entry/2020-works\"\u003ehttps://nazo.hatenablog.com/entry/2020-works\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e2019年 : \u003ca href=\"https://nazo.hatenablog.com/entry/goodbye-uuum\"\u003ehttps://nazo.hatenablog.com/entry/goodbye-uuum\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\n\u003ch1 id=\"何してたの\"\u003e何してたの？\u003c/h1\u003e\n\n\u003cp\u003e一応、仕事しています。\u003c/p\u003e\n\n\u003cp\u003eあまり細かいことは言えないのですが、\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/Python\"\u003ePython\u003c/a\u003eでGraphQLでBigQuery x \u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/BigTable\"\u003eBigTable\u003c/a\u003eでPub/Subで…とかしつつ開発組織の\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/%A5%B3%A5%F3%A5%B5%A5%EB%A5%C6%A5%A3%A5%F3%A5%B0\"\u003eコンサルティング\u003c/a\u003e的なこともしていました。キューでタスクを分割する仕組みが思ったより快適すぎるので今後もっと使っていきたいと思いました。\u003c/p\u003e\n\n\u003cp\u003e最近の\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/Python\"\u003ePython\u003c/a\u003eは型検査にasync/awaitとか使えて快適ですね。開発環境は\u003ca href=\"https://github.com/mitsuhiko/rye\"\u003erye\u003c/a\u003eで、black+mypy+ruff で各種検査を回しまくると\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/VSCode\"\u003eVSCode\u003c/a\u003eで自動修正やら補完やらが効きまくって今までの\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/Python\"\u003ePython\u003c/a\u003eとは別世界です。強いて言えば各種ライブラリ（特に\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/Google\"\u003eGoogle\u003c/a\u003e系）が最新のあれこれに対応していなかったりするのが難点ですね。\u003c/p\u003e\n\n\u003cp\u003e\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/GitHub\"\u003eGitHub\u003c/a\u003e Copliotが優秀すぎてコードの書き方より指示コメントの書き方がうまくなってきました。テストケースなんかも半自動生成できて、ちまちま作ってたようなものがどんどん楽になりますね。Codeじゃない\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/VIsual%20Studio\"\u003eVIsual Studio\u003c/a\u003eだと標準で入っているので、Unityを書くのとかでもものすごく楽になりました。知ってるか知らないか、知っていたら勝ちみたいな領域で勝負していた方々は今後辛いんじゃないでしょうか。\u003c/p\u003e\n\n\u003ch1 id=\"SNS断ち特にX\"\u003e\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/SNS\"\u003eSNS\u003c/a\u003e断ち（特にX）\u003c/h1\u003e\n\n\u003cp\u003eもう存在を忘れられているかと思いますが、結構前から\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/SNS\"\u003eSNS\u003c/a\u003eをほぼ引退しました。X（旧\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/Twitter\"\u003eTwitter\u003c/a\u003e）も\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/Facebook\"\u003eFacebook\u003c/a\u003eも過去の投稿をほぼ全て削除してありますし、特殊な事情がない限り告知以外の投稿をすることはもうありません。この記事の通知は流れているはずなので、\u003ca href=\"https://x.com/nazo\"\u003ehttps://x.com/nazo\u003c/a\u003e は告知用アカウントだと思ってください。\u003c/p\u003e\n\n\u003cp\u003e理由としては、コロナ禍あたりからの空気の変化により、少なくともXを使い続けるのは自分にとってメリットよりデメリットのほうが上回ってきたからです。X社関係の騒動とはあまり関係ありません。\u003c/p\u003e\n\n\u003cp\u003eこのブログは\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/SNS\"\u003eSNS\u003c/a\u003eではないので、基本的にこのブログは更新し続けるつもりです。\u003c/p\u003e\n\n\u003cp\u003e一応Blueskyのアカウント（ \u003ca href=\"https://bsky.app/profile/nazo.dev\"\u003ehttps://bsky.app/profile/nazo.dev\u003c/a\u003e ）も取得してあり、万が一普段遣いとして復帰したくなった場合はこちらを使うかもしれませんが、まあそれも今のところはなさそうです。\u003c/p\u003e\n\n\u003cp\u003e\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/SNS\"\u003eSNS\u003c/a\u003e断ちをして思ったことは、思ったより\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/SNS\"\u003eSNS\u003c/a\u003eを見てメールをくれたり連絡をしてくれたりする人というのはいたんだなということです。\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/SNS\"\u003eSNS\u003c/a\u003eを動かしている間はそれなりに反応があったのですが、断ってからはスパム的なもの以外は全く来なくなってしまいました。まあブログくらい書いていればもう少し違うのでしょうが…。\u003c/p\u003e\n\n\u003cp\u003e交友関係もほぼ断ってしまったので、すっかりお仕事の話も途絶えてしまいました。難しい話です。\u003c/p\u003e\n\n\u003ch1 id=\"今後について\"\u003e今後について\u003c/h1\u003e\n\n\u003cp\u003e今の生活はとても自分に合っているので、できれば今の生活を続けていきたいのですが、特にこの先の見通しもないし収入面の不安もあるので難しそうです。\u003c/p\u003e\n\n\u003cp\u003e自分ももうすぐ42歳になり、日に日に体力も衰え、絶対にこれをやるんだ！みたいなモチベーションはもうないのですが、成功事例も増えてきましたし、自分にしかできないことも少なくないはずなので、淡々とできることをこなしていこうと思います。\u003c/p\u003e\n\n\u003ch1 id=\"お仕事募集中\"\u003eお仕事募集中\u003c/h1\u003e\n\n\u003cp\u003e引き続きお仕事を募集しております。週２〜４くらいまで・フルリモート・単価多分そこそこ高め？です。解決できる課題などは\n\u003ca href=\"https://nazo.dev/profile\"\u003ehttps://nazo.dev/profile\u003c/a\u003e をご覧下さい。フルタイム正社員でないからこそできる内容をメインにしています。\u003c/p\u003e\n\n\u003cp\u003e各種\u003ca class=\"keyword\" href=\"https://d.hatena.ne.jp/keyword/SNS\"\u003eSNS\u003c/a\u003eのDMでご連絡をお待ちしております。\u003c/p\u003e\n","contentSnippet":"2022年 : https://nazo.hatenablog.com/entry/2022-works\n2021年 : https://nazo.hatenablog.com/entry/2021-works\n2020年 : https://nazo.hatenablog.com/entry/2020-works\n2019年 : https://nazo.hatenablog.com/entry/goodbye-uuum\n何してたの？\n一応、仕事しています。\nあまり細かいことは言えないのですが、PythonでGraphQLでBigQuery x BigTableでPub/Subで…とかしつつ開発組織のコンサルティング的なこともしていました。キューでタスクを分割する仕組みが思ったより快適すぎるので今後もっと使っていきたいと思いました。\n最近のPythonは型検査にasync/awaitとか使えて快適ですね。開発環境はryeで、black+mypy+ruff で各種検査を回しまくるとVSCodeで自動修正やら補完やらが効きまくって今までのPythonとは別世界です。強いて言えば各種ライブラリ（特にGoogle系）が最新のあれこれに対応していなかったりするのが難点ですね。\nGitHub Copliotが優秀すぎてコードの書き方より指示コメントの書き方がうまくなってきました。テストケースなんかも半自動生成できて、ちまちま作ってたようなものがどんどん楽になりますね。CodeじゃないVIsual Studioだと標準で入っているので、Unityを書くのとかでもものすごく楽になりました。知ってるか知らないか、知っていたら勝ちみたいな領域で勝負していた方々は今後辛いんじゃないでしょうか。\nSNS断ち（特にX）\nもう存在を忘れられているかと思いますが、結構前からSNSをほぼ引退しました。X（旧Twitter）もFacebookも過去の投稿をほぼ全て削除してありますし、特殊な事情がない限り告知以外の投稿をすることはもうありません。この記事の通知は流れているはずなので、https://x.com/nazo は告知用アカウントだと思ってください。\n理由としては、コロナ禍あたりからの空気の変化により、少なくともXを使い続けるのは自分にとってメリットよりデメリットのほうが上回ってきたからです。X社関係の騒動とはあまり関係ありません。\nこのブログはSNSではないので、基本的にこのブログは更新し続けるつもりです。\n一応Blueskyのアカウント（ https://bsky.app/profile/nazo.dev ）も取得してあり、万が一普段遣いとして復帰したくなった場合はこちらを使うかもしれませんが、まあそれも今のところはなさそうです。\nSNS断ちをして思ったことは、思ったよりSNSを見てメールをくれたり連絡をしてくれたりする人というのはいたんだなということです。SNSを動かしている間はそれなりに反応があったのですが、断ってからはスパム的なもの以外は全く来なくなってしまいました。まあブログくらい書いていればもう少し違うのでしょうが…。\n交友関係もほぼ断ってしまったので、すっかりお仕事の話も途絶えてしまいました。難しい話です。\n今後について\n今の生活はとても自分に合っているので、できれば今の生活を続けていきたいのですが、特にこの先の見通しもないし収入面の不安もあるので難しそうです。\n自分ももうすぐ42歳になり、日に日に体力も衰え、絶対にこれをやるんだ！みたいなモチベーションはもうないのですが、成功事例も増えてきましたし、自分にしかできないことも少なくないはずなので、淡々とできることをこなしていこうと思います。\nお仕事募集中\n引き続きお仕事を募集しております。週２〜４くらいまで・フルリモート・単価多分そこそこ高め？です。解決できる課題などは\nhttps://nazo.dev/profile をご覧下さい。フルタイム正社員でないからこそできる内容をメインにしています。\n各種SNSのDMでご連絡をお待ちしております。","summary":"2022年 : https://nazo.hatenablog.com/entry/2022-works 2021年 : https://nazo.hatenablog.com/entry/2021-works 2020年 : https://nazo.hatenablog.com/entry/2020-works 2019年 : https://nazo.hatenablog.com/entry/goodbye-uuum 何してたの？ 一応、仕事しています。 あまり細かいことは言えないのですが、PythonでGraphQLでBigQuery x BigTableでPub/Subで…とかしつつ…","id":"hatenablog://entry/6801883189057845489","isoDate":"2023-12-29T03:00:00.000Z"},{"title":"webtransport-goでチャットを作ってみた","link":"https://nazo.hatenablog.com/entry/webtransport-go-chat","pubDate":"2023-01-27T08:30:00.000Z","author":"nazone","content":"\u003cp\u003e\u003ciframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2Fnazo%2Fwebtransport-go-chat\" title=\"GitHub - nazo/webtransport-go-chat\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003ccite class=\"hatena-citation\"\u003e\u003ca href=\"https://github.com/nazo/webtransport-go-chat\"\u003egithub.com\u003c/a\u003e\u003c/cite\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cspan itemscope itemtype=\"http://schema.org/Photograph\"\u003e\u003cimg src=\"https://cdn-ak.f.st-hatena.com/images/fotolife/n/nazone/20230127/20230127163228.png\" width=\"1200\" height=\"409\" loading=\"lazy\" title=\"\" class=\"hatena-fotolife\" itemprop=\"image\"\u003e\u003c/span\u003e\u003c/p\u003e\n\n\u003cp\u003e突然興味が出てきて書きましたが特に実用性はありません。webtransport-goがそれなりに使えるのかどうか調べるために書いたものです。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://github.com/quic-go/webtransport-go\"\u003ewebtransport-goは紆余曲折あって（？）quic-goに取り込まれたようですが\u003c/a\u003e、中のファイルがまだ \u003ccode\u003egithub.com/marten-seemann/webtransport-go\u003c/code\u003e のままなので（2023年1月27日現在）、こちらの名前でimportするのが良いです。修正を投げようとも思いましたが関連する他\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%EA%A5%DD%A5%B8%A5%C8%A5%EA\"\u003eリポジトリ\u003c/a\u003eも全て変わっていないので、そのうち修正されるのを待とうと思います。\u003c/p\u003e\n\n\u003cp\u003e切断周りの対応はちゃんと書いていません。\u003c/p\u003e\n\n\u003cp\u003eチャットメッセージはUnidirectional Streamでやりとりしています。\u003ca href=\"https://www.ietf.org/archive/id/draft-lcurley-warp-00.html\"\u003e一部で話題のTwitchのWarp\u003c/a\u003eもUnidirectionalで実装されているようです。webtransport-goはDatagramはまだ未対応のようです。\u003c/p\u003e\n\n\u003cp\u003eWebTransport自体はコネクションさえ確立されれば後はQUICなので、どうしてもブラウザ上でやりたいことがなければ普通にQUICについて調査することをフォーカスしたほうが良さそうです。ブラウザならではで想定できそうなのはやはり\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Warp\"\u003eWarp\u003c/a\u003eのような動画配信でしょうか。WebCodecsと組み合わせて実装するようです。\u003c/p\u003e\n\n\u003ch1 id=\"参考記事\"\u003e参考記事\u003c/h1\u003e\n\n\u003cp\u003e\u003ciframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fqiita.com%2Falivelime%2Fitems%2F539383fd9fdf06169211\" title=\"WebTransportでもテキストチャットがしたい!(WebSocket比較あり) - Qiita\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003ccite class=\"hatena-citation\"\u003e\u003ca href=\"https://qiita.com/alivelime/items/539383fd9fdf06169211\"\u003eqiita.com\u003c/a\u003e\u003c/cite\u003e\u003c/p\u003e\n","contentSnippet":"github.com\n\n突然興味が出てきて書きましたが特に実用性はありません。webtransport-goがそれなりに使えるのかどうか調べるために書いたものです。\nwebtransport-goは紆余曲折あって（？）quic-goに取り込まれたようですが、中のファイルがまだ github.com/marten-seemann/webtransport-go のままなので（2023年1月27日現在）、こちらの名前でimportするのが良いです。修正を投げようとも思いましたが関連する他リポジトリも全て変わっていないので、そのうち修正されるのを待とうと思います。\n切断周りの対応はちゃんと書いていません。\nチャットメッセージはUnidirectional Streamでやりとりしています。一部で話題のTwitchのWarpもUnidirectionalで実装されているようです。webtransport-goはDatagramはまだ未対応のようです。\nWebTransport自体はコネクションさえ確立されれば後はQUICなので、どうしてもブラウザ上でやりたいことがなければ普通にQUICについて調査することをフォーカスしたほうが良さそうです。ブラウザならではで想定できそうなのはやはりWarpのような動画配信でしょうか。WebCodecsと組み合わせて実装するようです。\n参考記事\nqiita.com","summary":"github.com 突然興味が出てきて書きましたが特に実用性はありません。webtransport-goがそれなりに使えるのかどうか調べるために書いたものです。 webtransport-goは紆余曲折あって（？）quic-goに取り込まれたようですが、中のファイルがまだ github.com/marten-seemann/webtransport-go のままなので（2023年1月27日現在）、こちらの名前でimportするのが良いです。修正を投げようとも思いましたが関連する他リポジトリも全て変わっていないので、そのうち修正されるのを待とうと思います。 切断周りの対応はちゃんと書いていませ…","id":"hatenablog://entry/4207112889957967595","isoDate":"2023-01-27T08:30:00.000Z"},{"title":"2022年の仕事と近況","link":"https://nazo.hatenablog.com/entry/2022-works","pubDate":"2022-12-29T03:00:00.000Z","author":"nazone","content":"\u003cul\u003e\n\u003cli\u003e2021年 : \u003ca href=\"https://nazo.hatenablog.com/entry/2021-works\"\u003ehttps://nazo.hatenablog.com/entry/2021-works\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e2020年 : \u003ca href=\"https://nazo.hatenablog.com/entry/2020-works\"\u003ehttps://nazo.hatenablog.com/entry/2020-works\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e2019年 : \u003ca href=\"https://nazo.hatenablog.com/entry/goodbye-uuum\"\u003ehttps://nazo.hatenablog.com/entry/goodbye-uuum\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\n\u003ch1 id=\"2022年の仕事\"\u003e2022年の仕事\u003c/h1\u003e\n\n\u003cp\u003e去年からの続きの仕事のみで、大きく話せるようなことは特にありません。仕事をしていないわけではないですが、一度区切りをつけて来年からは大幅縮小になる予定です。\u003c/p\u003e\n\n\u003ch1 id=\"近況\"\u003e近況\u003c/h1\u003e\n\n\u003cp\u003e2022年は引っ越したりしていました。一応首都圏ではあるものの、通勤することを完全に捨てた場所にいます。その代わり仕事部屋を手に入れたので、リモートワークで会議が頻繁に発生することにも対応できることになりました。\u003c/p\u003e\n\n\u003cp\u003e去年今年と辛いことが続いていますが、来年は本厄らしいのでもうだめかもしれません。がんばります。\u003c/p\u003e\n\n\u003ch1 id=\"まとめ\"\u003eまとめ\u003c/h1\u003e\n\n\u003cp\u003e今後はブログを中心に情報発信を行っていこうと思います。技術的な話は \u003ca href=\"https://zenn.dev/nazo\"\u003eZenn\u003c/a\u003e にも転載していますので、技術的な話のみ読みたい方はそちらをフォローしてください。\u003c/p\u003e\n\n\u003cp\u003e来年からの予定は今のところ未定なので、週２〜３くらいでの案件を引き続き募集しております。詳しくは\n\u003ca href=\"https://nazo.dev/\"\u003ehttps://nazo.dev/\u003c/a\u003e をご覧下さい。\u003c/p\u003e\n","contentSnippet":"2021年 : https://nazo.hatenablog.com/entry/2021-works\n2020年 : https://nazo.hatenablog.com/entry/2020-works\n2019年 : https://nazo.hatenablog.com/entry/goodbye-uuum\n2022年の仕事\n去年からの続きの仕事のみで、大きく話せるようなことは特にありません。仕事をしていないわけではないですが、一度区切りをつけて来年からは大幅縮小になる予定です。\n近況\n2022年は引っ越したりしていました。一応首都圏ではあるものの、通勤することを完全に捨てた場所にいます。その代わり仕事部屋を手に入れたので、リモートワークで会議が頻繁に発生することにも対応できることになりました。\n去年今年と辛いことが続いていますが、来年は本厄らしいのでもうだめかもしれません。がんばります。\nまとめ\n今後はブログを中心に情報発信を行っていこうと思います。技術的な話は Zenn にも転載していますので、技術的な話のみ読みたい方はそちらをフォローしてください。\n来年からの予定は今のところ未定なので、週２〜３くらいでの案件を引き続き募集しております。詳しくは\nhttps://nazo.dev/ をご覧下さい。","summary":"2021年 : https://nazo.hatenablog.com/entry/2021-works 2020年 : https://nazo.hatenablog.com/entry/2020-works 2019年 : https://nazo.hatenablog.com/entry/goodbye-uuum 2022年の仕事 去年からの続きの仕事のみで、大きく話せるようなことは特にありません。仕事をしていないわけではないですが、一度区切りをつけて来年からは大幅縮小になる予定です。 近況 2022年は引っ越したりしていました。一応首都圏ではあるものの、通勤することを完全に捨てた場所に…","id":"hatenablog://entry/4207112889941404490","isoDate":"2022-12-29T03:00:00.000Z"},{"creator":"nazo","title":"最近の Terraform のディレクトリ構造の分け方","link":"https://zenn.dev/nazo/articles/eac2082a073365","pubDate":"Fri, 23 Dec 2022 05:02:40 GMT","enclosure":{"url":"https://res.cloudinary.com/zenn/image/upload/s--H7Q28qlo--/c_fit%2Cg_north_west%2Cl_text:notosansjp-medium.otf_55:%25E6%259C%2580%25E8%25BF%2591%25E3%2581%25AE%2520Terraform%2520%25E3%2581%25AE%25E3%2583%2587%25E3%2582%25A3%25E3%2583%25AC%25E3%2582%25AF%25E3%2583%2588%25E3%2583%25AA%25E6%25A7%258B%25E9%2580%25A0%25E3%2581%25AE%25E5%2588%2586%25E3%2581%2591%25E6%2596%25B9%2Cw_1010%2Cx_90%2Cy_100/g_south_west%2Cl_text:notosansjp-medium.otf_37:nazo%2Cx_203%2Cy_121/g_south_west%2Ch_90%2Cl_fetch:aHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EtL0FPaDE0R2dZb0xlSnJaX3FJdGlhbThncXZyVkhIVUxRSXFWcUs5VGNqaXp1MWo4PXMyNTAtYw==%2Cr_max%2Cw_90%2Cx_87%2Cy_95/v1627283836/default/og-base-w1200-v2.png","length":"0","type":"image/png"},"dc:creator":"nazo","content":"※この記事の内容は https://nazo.hatenablog.com/entry/terraform-2022 と同一です。\n\n 概要\nmodules / envs / apps でディレクトリを切っています。\n\n 基礎知識： modules と envs\n誰が言い出したのかはわかりませんが、modules と envs に分けるパターンはよく見かけます。\nmodules は文字通りモジュールを配置するところで、 envs はそれらを使う環境が入っているという感じです。\n.\n├── modules\n│   ├── vpc\n│   ├── app\n│   └── db\n└── env...","contentSnippet":"※この記事の内容は https://nazo.hatenablog.com/entry/terraform-2022 と同一です。\n\n 概要\nmodules / envs / apps でディレクトリを切っています。\n\n 基礎知識： modules と envs\n誰が言い出したのかはわかりませんが、modules と envs に分けるパターンはよく見かけます。\nmodules は文字通りモジュールを配置するところで、 envs はそれらを使う環境が入っているという感じです。\n.\n├── modules\n│   ├── vpc\n│   ├── app\n│   └── db\n└── env...","guid":"https://zenn.dev/nazo/articles/eac2082a073365","isoDate":"2022-12-23T05:02:40.000Z"},{"title":"最近の Terraform のディレクトリ構造の分け方","link":"https://nazo.hatenablog.com/entry/terraform-2022","pubDate":"2022-12-23T03:00:00.000Z","author":"nazone","content":"\u003ch1 id=\"概要\"\u003e概要\u003c/h1\u003e\n\n\u003cp\u003emodules / envs / apps で\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%A5%C7%A5%A3%A5%EC%A5%AF%A5%C8\"\u003eディレクト\u003c/a\u003eリを切っています。\u003c/p\u003e\n\n\u003ch1 id=\"基礎知識-modules-と-envs\"\u003e基礎知識： modules と envs\u003c/h1\u003e\n\n\u003cp\u003e誰が言い出したのかはわかりませんが、modules と envs に分けるパターンはよく見かけます。\u003c/p\u003e\n\n\u003cp\u003emodules は文字通りモジュールを配置するところで、 envs はそれらを使う環境が入っているという感じです。\u003c/p\u003e\n\n\u003cpre class=\"code\" data-lang=\"\" data-unlink\u003e.\n├── modules\n│   ├── vpc\n│   ├── app\n│   └── db\n└── envs\n    ├── production\n    └── staging\u003c/pre\u003e\n\n\n\u003cp\u003emodules の抽象度は、 \u003ca href=\"https://12factor.net/ja/backing-services\"\u003e12 factor app の バックエンドサービス\u003c/a\u003e くらいのイメージを持っていればいいのではないかと思います。\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/VPC\"\u003eVPC\u003c/a\u003e みたいな基盤は特殊として、それ以外は「外しても使える程度」を意識するのが良いと思います。\u003c/p\u003e\n\n\u003cp\u003e一般的に envs で書かれる tf は、modules を呼び出すだけにしておくのが良いと思います。直接リソースを書くのは最終手段です。\u003c/p\u003e\n\n\u003ch1 id=\"modules-と-envs-はわかるけど-apps-って何\"\u003emodules と envs はわかるけど apps って何？\u003c/h1\u003e\n\n\u003cp\u003e全環境で \u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/VPC\"\u003eVPC\u003c/a\u003e も DB も分けるなら必要ないですが、「複数のアプリで同一の DB を参照したい」というケースは多々あります。進捗が別々の環境を同時に作りたい場合などです。また、費用を節約するために同一の DB リソースを共有するという場合もあります。\u003c/p\u003e\n\n\u003cp\u003eそのような状況を考えた時、「土台のバックエンドサービスと、自分で書いたアプリケーションは別の扱いにしたほうがいいのでは」となりました。この「土台のバックエンドサービス」が「envs」で、「自分で書いたアプリケーション」が「apps」になります。\u003c/p\u003e\n\n\u003cp\u003e「envs」は、\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/VPC\"\u003eVPC\u003c/a\u003e や DB などがまとまったもので、「apps」はデプロイ単位で分けることになります。これにより、１つの \u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/VPC\"\u003eVPC\u003c/a\u003e や DB に、複数のアプリケーションを同居させることが簡単になります。\u003c/p\u003e\n\n\u003cpre class=\"code\" data-lang=\"\" data-unlink\u003e.\n├── modules\n│   ├── vpc\n│   ├── app\n│   └── db\n├── apps\n│   ├── staging\n│   ├── production\n│   └── featurexxxx\n└── envs\n    ├── production\n    └── staging\u003c/pre\u003e\n\n\n\u003cp\u003e「envs」以下より「apps」以下のほうが必ず数が多くなります。また、「apps」は「envs」の設定に依存しますが、逆の依存は必ず存在しないようにします。\u003c/p\u003e\n","contentSnippet":"概要\nmodules / envs / apps でディレクトリを切っています。\n基礎知識： modules と envs\n誰が言い出したのかはわかりませんが、modules と envs に分けるパターンはよく見かけます。\nmodules は文字通りモジュールを配置するところで、 envs はそれらを使う環境が入っているという感じです。\n.\n├── modules\n│   ├── vpc\n│   ├── app\n│   └── db\n└── envs\n    ├── production\n    └── staging\nmodules の抽象度は、 12 factor app の バックエンドサービス くらいのイメージを持っていればいいのではないかと思います。VPC みたいな基盤は特殊として、それ以外は「外しても使える程度」を意識するのが良いと思います。\n一般的に envs で書かれる tf は、modules を呼び出すだけにしておくのが良いと思います。直接リソースを書くのは最終手段です。\nmodules と envs はわかるけど apps って何？\n全環境で VPC も DB も分けるなら必要ないですが、「複数のアプリで同一の DB を参照したい」というケースは多々あります。進捗が別々の環境を同時に作りたい場合などです。また、費用を節約するために同一の DB リソースを共有するという場合もあります。\nそのような状況を考えた時、「土台のバックエンドサービスと、自分で書いたアプリケーションは別の扱いにしたほうがいいのでは」となりました。この「土台のバックエンドサービス」が「envs」で、「自分で書いたアプリケーション」が「apps」になります。\n「envs」は、VPC や DB などがまとまったもので、「apps」はデプロイ単位で分けることになります。これにより、１つの VPC や DB に、複数のアプリケーションを同居させることが簡単になります。\n.\n├── modules\n│   ├── vpc\n│   ├── app\n│   └── db\n├── apps\n│   ├── staging\n│   ├── production\n│   └── featurexxxx\n└── envs\n    ├── production\n    └── staging\n「envs」以下より「apps」以下のほうが必ず数が多くなります。また、「apps」は「envs」の設定に依存しますが、逆の依存は必ず存在しないようにします。","summary":"最近の Terraform のディレクトリ構造の分け方について解説します。","id":"hatenablog://entry/4207112889947280382","isoDate":"2022-12-23T03:00:00.000Z"}]},"__N_SSG":true},"page":"/","query":{},"buildId":"KdqtlL-jfo31vbLcVioEx","isFallback":false,"gsp":true,"scriptLoader":[{"src":"https://www.googletagmanager.com/gtag/js?id=G-VF0NMPGT9C","strategy":"afterInteractive"},{"id":"google-analytics","strategy":"afterInteractive","children":"\n              window.dataLayer = window.dataLayer || [];\n              function gtag(){window.dataLayer.push(arguments);}\n              gtag('js', new Date());\n\n              gtag('config', 'G-VF0NMPGT9C');\n            "}]}</script></body></html>